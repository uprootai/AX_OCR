---
sidebar_position: 4
title: PDF 보고서
description: 회사 브랜딩과 다중 페이지 지원이 포함된 포맷된 PDF 견적 보고서
---

# PDF 보고서 (PDF Report)

PDF 보고서는 검증된 BOM 데이터를 기반으로 전문적인 제조 견적서를 생성합니다. 보고서에는 회사 브랜딩, 구조화된 단가 테이블, 선택적 도면 이미지가 포함됩니다.

## 보고서 레이아웃

### 1페이지: 표지 / 요약

| 섹션 | 내용 |
|------|------|
| **헤더** | 회사 로고, 회사명, 문서 제목 |
| **문서 정보** | 견적 번호, 날짜, 유효 기간 |
| **고객 정보** | 고객명, 프로젝트명, 연락처 |
| **요약 테이블** | 총 항목 수, 총 비용, 통화, 결제 조건 |
| **푸터** | 페이지 번호, 기밀 고지 |

### 2페이지 이후: BOM 테이블

BOM 테이블은 자동 페이지 나눔으로 여러 페이지에 걸쳐 표시됩니다:

| 컬럼 | 너비 | 설명 |
|------|------|------|
| No. | 5% | 순번 |
| Description | 25% | 부품명 및 사양 |
| Material | 12% | 재질 등급 |
| Size | 15% | 치수 사양 |
| Qty | 5% | 수량 |
| Unit Price | 15% | 단가 (KRW) |
| Total | 15% | 항목 합계 |
| Status | 8% | 검증 상태 |

### 원가 요약 섹션

마지막 BOM 페이지 하단에 표시됩니다:

| 항목 | 설명 |
|------|------|
| 소계 (재료비) | 모든 재료비의 합계 |
| 소계 (가공비) | 모든 가공비의 합계 |
| 열처리비 | 처리 비용 합계 |
| 검사 및 품질관리 | 품질관리 비용 |
| 포장 및 운송 | 물류 비용 |
| **총합계** | **모든 항목의 합계** |

### 선택 사항: 도면 부록

활성화 시 보고서에 검출된 부품이 하이라이트된 오버레이가 포함된 원본 도면 이미지가 첨부됩니다.

## 회사 브랜딩

PDF 생성기는 맞춤형 브랜딩을 지원합니다:

| 요소 | 사용자 정의 | 기본값 |
|------|:----------:|--------|
| 회사 로고 | 가능 | AX POC 로고 |
| 회사명 | 가능 | "AX Engineering" |
| 주소 | 가능 | 회사 주소 |
| 연락처 | 가능 | 전화번호, 이메일 |
| 메인 색상 | 가능 | `#1565c0` (파란색) |
| 폰트 | 가능 | NanumGothic (한국어 지원) |
| 푸터 텍스트 | 가능 | 기밀 고지 |

브랜딩 설정은 프로젝트 설정에 저장되며 생성되는 모든 보고서에 적용됩니다.

## 다중 페이지 지원

PDF 엔진은 모든 길이의 BOM 테이블을 처리합니다:

- **자동 페이지 나눔**: 테이블이 반복 헤더와 함께 여러 페이지로 분할됩니다
- **페이지 번호 매기기**: 푸터에 "X / Y 페이지" 형식으로 표시됩니다
- **고립 행 방지(Orphan control)**: 한 행만 남는 페이지를 방지하기 위해 페이지당 최소 3행을 유지합니다
- **요약 배치**: 원가 요약은 항상 BOM 테이블 다음 마지막 페이지에 표시됩니다

## 숫자 형식

모든 금액은 원화(KRW) 형식을 사용합니다:

| 형식 | 예시 |
|------|------|
| 단가 | 485,000 |
| 합계 | 8,500,000 |
| 총합계 | 12,350,000 |

소수값(중량, 치수)은 최대 소수점 2자리까지 표시됩니다.

## 생성 엔드포인트

### 견적 PDF 생성

```
POST /quotation/generate/{session_id}
```

**요청 본문** (선택 사항):

```json
{
  "customer_name": "Customer Corp.",
  "project_name": "Pump Overhaul Project",
  "validity_days": 30,
  "include_drawing": true,
  "include_cost_breakdown": true,
  "notes": "Delivery within 8 weeks after PO"
}
```

**응답**: PDF 파일 다운로드

### PDF로 내보내기

```
GET /export/pdf/{session_id}
```

이전에 생성된 PDF가 있으면 캐시된 파일을 반환하고, 없으면 새로 생성합니다.

## 페이지 크기 및 여백

| 속성 | 값 |
|------|-----|
| 페이지 크기 | A4 (210 x 297 mm) |
| 상단 여백 | 25 mm |
| 하단 여백 | 20 mm |
| 좌측 여백 | 20 mm |
| 우측 여백 | 20 mm |
| 헤더 높이 | 35 mm |
| 푸터 높이 | 15 mm |

## 지원 언어

PDF 보고서는 이중 언어 콘텐츠를 지원합니다:

| 언어 | 폰트 | 용도 |
|------|------|------|
| 한국어 | NanumGothic | 부품 설명, 헤더 |
| 영어 | Helvetica / Arial | 기술 사양, 클래스명 |
| 혼합 | 자동 감지 | 한국어/영어 혼합 텍스트 지원 |
