# Export ê°€ëŠ¥í•œ ë‚©í’ˆ ì•„í‚¤í…ì²˜ ì„¤ê³„

> **ì‘ì„±ì¼**: 2025-12-14
> **ëª©ì **: ë¹Œë”ì—ì„œ ìƒì„±í•œ í…œí”Œë¦¿ + BOM Verificationì„ ê³ ê° ì˜¨í”„ë ˆë¯¸ìŠ¤ë¡œ export
> **ìƒíƒœ**: ì„¤ê³„ ë‹¨ê³„

---

## í•µì‹¬ ê°œë…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AX POC (ê°œë°œ/ë¹Œë” í™˜ê²½)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ BlueprintFlow â”‚  â”‚  API í…ŒìŠ¤íŠ¸   â”‚  â”‚  í…œí”Œë¦¿ ê´€ë¦¬  â”‚       â”‚
â”‚  â”‚ Builder       â”‚  â”‚  Dashboard    â”‚  â”‚               â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚          â”‚                                      â”‚               â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                         â–¼                                       â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚              â”‚   Export Package    â”‚                           â”‚
â”‚              â”‚   (í…œí”Œë¦¿ + ì„¤ì •)   â”‚                           â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ê³ ê° ì˜¨í”„ë ˆë¯¸ìŠ¤ (ëŸ°íƒ€ì„ í™˜ê²½)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                  Standalone App                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚
â”‚  â”‚  â”‚ ë„ë©´ ì—…ë¡œë“œ â”‚â†’ â”‚ AI ë¶„ì„     â”‚â†’ â”‚ BOM ê²€ì¦    â”‚       â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚ (í…œí”Œë¦¿)    â”‚  â”‚ & ì¶œë ¥      â”‚       â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ë¹Œë” UI ì—†ìŒ / ì„ íƒëœ í…œí”Œë¦¿ë§Œ ì‹¤í–‰ / ê²½ëŸ‰í™”                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì•„í‚¤í…ì²˜ ì„¤ê³„

### 1. í”„ë¡ íŠ¸ì—”ë“œ ëª¨ë“ˆ ë¶„ë¦¬

```
web-ui/src/
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ builder/                    # ë¹Œë” ì „ìš© (ë‚©í’ˆì—ì„œ ì œì™¸)
â”‚   â”‚   â”œâ”€â”€ BlueprintFlowBuilder.tsx
â”‚   â”‚   â”œâ”€â”€ NodePalette.tsx
â”‚   â”‚   â”œâ”€â”€ TemplateManager.tsx
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ runtime/                    # ëŸ°íƒ€ì„ (ë‚©í’ˆ í¬í•¨)
â”‚   â”‚   â”œâ”€â”€ WorkflowRunner.tsx      # í…œí”Œë¦¿ ì‹¤í–‰ê¸°
â”‚   â”‚   â”œâ”€â”€ TemplateSelector.tsx    # í…œí”Œë¦¿ ì„ íƒ UI
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ verification/               # BOM ê²€ì¦ (ë‚©í’ˆ í¬í•¨)
â”‚   â”‚   â”œâ”€â”€ VerificationPage.tsx
â”‚   â”‚   â”œâ”€â”€ BoundingBoxEditor.tsx
â”‚   â”‚   â”œâ”€â”€ DetectionList.tsx
â”‚   â”‚   â”œâ”€â”€ ApprovalWorkflow.tsx
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â””â”€â”€ common/                     # ê³µí†µ ì»´í¬ë„ŒíŠ¸ (ë‚©í’ˆ í¬í•¨)
â”‚       â”œâ”€â”€ ImageViewer.tsx
â”‚       â”œâ”€â”€ FileUploader.tsx
â”‚       â”œâ”€â”€ ExportButtons.tsx
â”‚       â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ full/                       # ì „ì²´ ì•± (ê°œë°œìš©)
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â”œâ”€â”€ routes.tsx
â”‚   â”‚   â””â”€â”€ main.tsx
â”‚   â”‚
â”‚   â””â”€â”€ standalone/                 # ë‚©í’ˆìš© ì•±
â”‚       â”œâ”€â”€ App.tsx                 # ê²½ëŸ‰í™”ëœ ì•±
â”‚       â”œâ”€â”€ routes.tsx              # ìµœì†Œ ë¼ìš°íŠ¸
â”‚       â””â”€â”€ main.tsx
â”‚
â””â”€â”€ vite.config.ts                  # ë©€í‹° ë¹Œë“œ ì„¤ì •
```

### 2. ë©€í‹° ë¹Œë“œ ì„¤ì •

```typescript
// vite.config.ts

import { defineConfig } from 'vite';

export default defineConfig(({ mode }) => {
  const isStandalone = mode === 'standalone';

  return {
    build: {
      outDir: isStandalone ? 'dist/standalone' : 'dist/full',
      rollupOptions: {
        input: isStandalone
          ? './src/apps/standalone/main.tsx'
          : './src/apps/full/main.tsx',
      },
    },
    define: {
      __BUILD_MODE__: JSON.stringify(isStandalone ? 'standalone' : 'full'),
    },
  };
});
```

```bash
# ë¹Œë“œ ëª…ë ¹ì–´
npm run build              # ì „ì²´ ë¹Œë“œ (ê°œë°œìš©)
npm run build:standalone   # ë‚©í’ˆìš© ë¹Œë“œ
```

---

### 3. í…œí”Œë¦¿ Export êµ¬ì¡°

```
exported_package/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ template.json              # ì›Œí¬í”Œë¡œìš° í…œí”Œë¦¿
â”‚   â”œâ”€â”€ api_config.json            # API ì„¤ì • (URL, í¬íŠ¸)
â”‚   â”œâ”€â”€ class_definitions.json     # ê²€ì¶œ í´ë˜ìŠ¤ ì •ì˜
â”‚   â””â”€â”€ pricing_data.json          # ê°€ê²© ë°ì´í„° (ì˜µì…˜)
â”‚
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ dist/                      # ë¹Œë“œëœ standalone ì•±
â”‚       â”œâ”€â”€ index.html
â”‚       â”œâ”€â”€ assets/
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ gateway/                   # ê²½ëŸ‰ Gateway
â”‚   â”‚   â”œâ”€â”€ api_server.py
â”‚   â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”‚   â””â”€â”€ Dockerfile
â”‚   â”‚
â”‚   â””â”€â”€ api_specs/                 # í•„ìš”í•œ API ìŠ¤í™ë§Œ
â”‚       â”œâ”€â”€ yolo.yaml
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ models/                        # í•„ìš”í•œ ëª¨ë¸ë§Œ
â”‚   â”œâ”€â”€ yolo/
â”‚   â”‚   â””â”€â”€ best.pt
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ docker-compose.yml         # ìµœì†Œ êµ¬ì„±
â”‚   â”œâ”€â”€ docker-compose.override.yml
â”‚   â””â”€â”€ .env.example
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ install.sh                 # ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ start.sh                   # ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ stop.sh                    # ì¤‘ì§€ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ backup.sh                  # ë°±ì—… ìŠ¤í¬ë¦½íŠ¸
â”‚
â””â”€â”€ docs/
    â”œâ”€â”€ INSTALL.md                 # ì„¤ì¹˜ ê°€ì´ë“œ
    â”œâ”€â”€ USER_MANUAL.md             # ì‚¬ìš©ì ë§¤ë‰´ì–¼
    â””â”€â”€ ADMIN_GUIDE.md             # ê´€ë¦¬ì ê°€ì´ë“œ
```

---

### 4. í…œí”Œë¦¿ JSON êµ¬ì¡°

```json
// config/template.json
{
  "meta": {
    "id": "techcross-pid-analysis",
    "name": "P&ID ë„ë©´ ë¶„ì„",
    "version": "1.0.0",
    "created_at": "2025-12-14",
    "created_by": "AX POC Builder",
    "description": "P&ID ë„ë©´ì—ì„œ ì‹¬ë³¼ ê²€ì¶œ ë° BOM ìƒì„±"
  },

  "workflow": {
    "nodes": [
      {
        "id": "input_1",
        "type": "ImageInput",
        "config": {
          "accepted_formats": ["pdf", "png", "jpg"],
          "max_size_mb": 50
        }
      },
      {
        "id": "yolo_1",
        "type": "YOLO",
        "config": {
          "model": "yolo/best.pt",
          "confidence": 0.7,
          "iou_threshold": 0.45,
          "classes": "all"
        }
      },
      {
        "id": "verification_1",
        "type": "Verification",
        "config": {
          "require_approval": true,
          "auto_approve_threshold": 0.95,
          "enable_manual_add": true
        }
      },
      {
        "id": "bom_1",
        "type": "BOMGenerator",
        "config": {
          "pricing_enabled": true,
          "export_formats": ["excel", "pdf"]
        }
      }
    ],

    "edges": [
      { "source": "input_1", "target": "yolo_1" },
      { "source": "yolo_1", "target": "verification_1" },
      { "source": "verification_1", "target": "bom_1" }
    ]
  },

  "required_apis": [
    {
      "id": "yolo",
      "port": 5005,
      "required": true
    }
  ],

  "class_definitions": {
    "source": "classes_info_with_pricing.json",
    "count": 27
  }
}
```

---

### 5. Export ì›Œí¬í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AX POC Builder                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: í…œí”Œë¦¿ ì„¤ê³„                                              â”‚
â”‚ - BlueprintFlowì—ì„œ ì›Œí¬í”Œë¡œìš° êµ¬ì„±                              â”‚
â”‚ - ë…¸ë“œ ì—°ê²° ë° íŒŒë¼ë¯¸í„° ì„¤ì •                                     â”‚
â”‚ - í…ŒìŠ¤íŠ¸ ì‹¤í–‰ìœ¼ë¡œ ê²€ì¦                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: Export ì„¤ì •                                              â”‚
â”‚ - ê³ ê°ì‚¬ ì •ë³´ ì…ë ¥                                               â”‚
â”‚ - í¬í•¨í•  API ì„ íƒ                                                â”‚
â”‚ - ë¼ì´ì„ ìŠ¤ ì„¤ì • (ì˜µì…˜)                                           â”‚
â”‚ - ë¸Œëœë”© ì„¤ì • (ë¡œê³ , ìƒ‰ìƒ)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: Package ìƒì„±                                             â”‚
â”‚ - Frontend ë¹Œë“œ (standalone ëª¨ë“œ)                                â”‚
â”‚ - í•„ìš”í•œ APIë§Œ í¬í•¨                                              â”‚
â”‚ - ëª¨ë¸ íŒŒì¼ ë³µì‚¬                                                 â”‚
â”‚ - Docker ì´ë¯¸ì§€ ìƒì„±                                             â”‚
â”‚ - ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 4: ë°°í¬ íŒ¨í‚¤ì§€                                              â”‚
â”‚                                                                  â”‚
â”‚  techcross-pid-v1.0.0.tar.gz                                    â”‚
â”‚  â”œâ”€â”€ docker-images/         # Docker ì´ë¯¸ì§€ tar                  â”‚
â”‚  â”œâ”€â”€ config/                # í…œí”Œë¦¿ + ì„¤ì •                      â”‚
â”‚  â”œâ”€â”€ scripts/               # ì„¤ì¹˜/ì‹œì‘/ë°±ì—… ìŠ¤í¬ë¦½íŠ¸            â”‚
â”‚  â””â”€â”€ docs/                  # ë¬¸ì„œ                               â”‚
â”‚                                                                  â”‚
â”‚  ìš©ëŸ‰: ~2-5GB (ëª¨ë¸ í¬í•¨)                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 6. Export Manager UI

```typescript
// web-ui/src/modules/builder/ExportManager.tsx

interface ExportConfig {
  customer: {
    name: string;
    logo?: string;
    primaryColor?: string;
  };
  template: {
    id: string;
    name: string;
    workflow: WorkflowDefinition;
  };
  apis: {
    id: string;
    include: boolean;
    port: number;
  }[];
  options: {
    includeModels: boolean;
    includePricing: boolean;
    generateDocs: boolean;
    dockerFormat: 'tar' | 'registry';
  };
}

const ExportManager: React.FC = () => {
  const [config, setConfig] = useState<ExportConfig>(defaultConfig);
  const [exportProgress, setExportProgress] = useState(0);

  const handleExport = async () => {
    // 1. Validate template
    const validation = await validateTemplate(config.template);
    if (!validation.valid) {
      showError(validation.errors);
      return;
    }

    // 2. Build frontend (standalone)
    setExportProgress(10);
    await buildFrontend('standalone', config.customer);

    // 3. Package APIs
    setExportProgress(30);
    await packageAPIs(config.apis.filter(a => a.include));

    // 4. Copy models
    setExportProgress(50);
    await copyModels(config.template.workflow);

    // 5. Generate configs
    setExportProgress(70);
    await generateConfigs(config);

    // 6. Create Docker images
    setExportProgress(85);
    await createDockerImages(config.options.dockerFormat);

    // 7. Generate docs
    setExportProgress(95);
    if (config.options.generateDocs) {
      await generateDocs(config);
    }

    // 8. Create final package
    setExportProgress(100);
    const packagePath = await createPackage(config);

    showSuccess(`íŒ¨í‚¤ì§€ ìƒì„± ì™„ë£Œ: ${packagePath}`);
  };

  return (
    <div className="export-manager">
      <h2>ë‚©í’ˆ íŒ¨í‚¤ì§€ ìƒì„±</h2>

      {/* ê³ ê° ì •ë³´ */}
      <CustomerInfoSection config={config} onChange={setConfig} />

      {/* í…œí”Œë¦¿ ì„ íƒ */}
      <TemplateSection config={config} onChange={setConfig} />

      {/* API ì„ íƒ */}
      <APISelectionSection config={config} onChange={setConfig} />

      {/* ì˜µì…˜ */}
      <OptionsSection config={config} onChange={setConfig} />

      {/* ë¯¸ë¦¬ë³´ê¸° */}
      <PackagePreview config={config} />

      {/* Export ë²„íŠ¼ */}
      <Button onClick={handleExport} disabled={exportProgress > 0}>
        {exportProgress > 0 ? `ìƒì„± ì¤‘... ${exportProgress}%` : 'íŒ¨í‚¤ì§€ ìƒì„±'}
      </Button>
    </div>
  );
};
```

---

### 7. ë‚©í’ˆìš© Standalone App êµ¬ì¡°

```typescript
// web-ui/src/apps/standalone/App.tsx

const StandaloneApp: React.FC = () => {
  const [template, setTemplate] = useState<Template | null>(null);

  useEffect(() => {
    // íŒ¨í‚¤ì§€ì— í¬í•¨ëœ í…œí”Œë¦¿ ë¡œë“œ
    loadTemplate('/config/template.json').then(setTemplate);
  }, []);

  if (!template) return <Loading />;

  return (
    <StandaloneLayout>
      <Routes>
        {/* ë¹Œë” ì—†ìŒ - ëŸ°íƒ€ì„ë§Œ */}
        <Route path="/" element={<WorkflowRunner template={template} />} />
        <Route path="/verification/:sessionId" element={<VerificationPage />} />
        <Route path="/results/:sessionId" element={<ResultsPage />} />
        <Route path="/history" element={<HistoryPage />} />
      </Routes>
    </StandaloneLayout>
  );
};

// ê°„ì†Œí™”ëœ ì›Œí¬í”Œë¡œìš° ëŸ¬ë„ˆ
const WorkflowRunner: React.FC<{ template: Template }> = ({ template }) => {
  const [step, setStep] = useState<'upload' | 'processing' | 'verification'>('upload');
  const [sessionId, setSessionId] = useState<string | null>(null);

  const handleUpload = async (files: File[]) => {
    setStep('processing');

    // í…œí”Œë¦¿ì— ì •ì˜ëœ ì›Œí¬í”Œë¡œìš° ìë™ ì‹¤í–‰
    const result = await executeWorkflow(template.workflow, files);
    setSessionId(result.sessionId);

    // ê²€ì¦ì´ í•„ìš”í•˜ë©´ ê²€ì¦ í˜ì´ì§€ë¡œ
    if (template.workflow.requiresVerification) {
      setStep('verification');
    }
  };

  return (
    <div className="workflow-runner">
      {step === 'upload' && (
        <FileUploadZone
          title={template.name}
          description={template.description}
          onUpload={handleUpload}
        />
      )}

      {step === 'processing' && (
        <ProcessingStatus sessionId={sessionId} />
      )}

      {step === 'verification' && sessionId && (
        <Navigate to={`/verification/${sessionId}`} />
      )}
    </div>
  );
};
```

---

### 8. ë‚©í’ˆìš© Docker Compose

```yaml
# exported_package/docker/docker-compose.yml

version: '3.8'

services:
  # í”„ë¡ íŠ¸ì—”ë“œ (Nginx)
  web:
    image: ${CUSTOMER_NAME:-customer}/web:${VERSION:-1.0.0}
    ports:
      - "${WEB_PORT:-80}:80"
    depends_on:
      - gateway
    restart: unless-stopped

  # API Gateway (ê²½ëŸ‰í™”)
  gateway:
    image: ${CUSTOMER_NAME:-customer}/gateway:${VERSION:-1.0.0}
    ports:
      - "${GATEWAY_PORT:-8000}:8000"
    environment:
      - TEMPLATE_PATH=/config/template.json
      - API_CONFIG_PATH=/config/api_config.json
    volumes:
      - ./config:/config:ro
      - ./data:/data
    depends_on:
      - yolo-api
    restart: unless-stopped

  # YOLO API (í•„ìˆ˜)
  yolo-api:
    image: ${CUSTOMER_NAME:-customer}/yolo-api:${VERSION:-1.0.0}
    ports:
      - "${YOLO_PORT:-5005}:5005"
    volumes:
      - ./models/yolo:/models:ro
    environment:
      - MODEL_PATH=/models/best.pt
      - DEVICE=${DEVICE:-cuda}
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              count: 1
              capabilities: [gpu]
    restart: unless-stopped

  # BOM API (í•„ìˆ˜)
  bom-api:
    image: ${CUSTOMER_NAME:-customer}/bom-api:${VERSION:-1.0.0}
    ports:
      - "${BOM_PORT:-5020}:5020"
    volumes:
      - ./config:/config:ro
      - ./data:/data
    restart: unless-stopped

# ë³¼ë¥¨ (ë°ì´í„° ì˜ì†ì„±)
volumes:
  data:
```

---

### 9. Export ìŠ¤í¬ë¦½íŠ¸

```python
# scripts/export_package.py

import argparse
import subprocess
import shutil
import json
from pathlib import Path

class PackageExporter:
    def __init__(self, config_path: str, output_dir: str):
        self.config = json.load(open(config_path))
        self.output_dir = Path(output_dir)

    def export(self):
        """ì „ì²´ Export í”„ë¡œì„¸ìŠ¤"""
        print("ğŸš€ ë‚©í’ˆ íŒ¨í‚¤ì§€ ìƒì„± ì‹œì‘...")

        # 1. ì¶œë ¥ ë””ë ‰í† ë¦¬ ìƒì„±
        self.setup_directories()

        # 2. Frontend ë¹Œë“œ
        print("ğŸ“¦ Frontend ë¹Œë“œ ì¤‘...")
        self.build_frontend()

        # 3. Backend íŒ¨í‚¤ì§•
        print("ğŸ“¦ Backend íŒ¨í‚¤ì§• ì¤‘...")
        self.package_backend()

        # 4. ëª¨ë¸ ë³µì‚¬
        print("ğŸ“¦ ëª¨ë¸ íŒŒì¼ ë³µì‚¬ ì¤‘...")
        self.copy_models()

        # 5. ì„¤ì • íŒŒì¼ ìƒì„±
        print("âš™ï¸ ì„¤ì • íŒŒì¼ ìƒì„± ì¤‘...")
        self.generate_configs()

        # 6. Docker ì´ë¯¸ì§€ ë¹Œë“œ
        print("ğŸ³ Docker ì´ë¯¸ì§€ ë¹Œë“œ ì¤‘...")
        self.build_docker_images()

        # 7. ë¬¸ì„œ ìƒì„±
        print("ğŸ“š ë¬¸ì„œ ìƒì„± ì¤‘...")
        self.generate_docs()

        # 8. ìµœì¢… íŒ¨í‚¤ì§€ ìƒì„±
        print("ğŸ“¦ ìµœì¢… íŒ¨í‚¤ì§€ ìƒì„± ì¤‘...")
        self.create_final_package()

        print(f"âœ… ì™„ë£Œ: {self.output_dir}")

    def setup_directories(self):
        dirs = ['config', 'frontend', 'backend', 'models', 'docker', 'scripts', 'docs']
        for d in dirs:
            (self.output_dir / d).mkdir(parents=True, exist_ok=True)

    def build_frontend(self):
        subprocess.run([
            'npm', 'run', 'build:standalone',
            '--', f'--outDir={self.output_dir}/frontend/dist'
        ], cwd='web-ui', check=True)

    def package_backend(self):
        # í•„ìš”í•œ APIë§Œ ë³µì‚¬
        required_apis = self.config['required_apis']
        for api in required_apis:
            if api.get('include', True):
                src = Path(f"models/{api['id']}-api")
                dst = self.output_dir / 'backend' / f"{api['id']}-api"
                shutil.copytree(src, dst, ignore=shutil.ignore_patterns('__pycache__', '*.pyc'))

    def copy_models(self):
        # ì›Œí¬í”Œë¡œìš°ì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë¸ë§Œ ë³µì‚¬
        for node in self.config['workflow']['nodes']:
            if 'model' in node.get('config', {}):
                model_path = node['config']['model']
                src = Path(f"models/{model_path}")
                dst = self.output_dir / 'models' / model_path
                dst.parent.mkdir(parents=True, exist_ok=True)
                shutil.copy2(src, dst)

    def generate_configs(self):
        # template.json
        template_config = {
            'meta': self.config['meta'],
            'workflow': self.config['workflow'],
            'required_apis': self.config['required_apis']
        }
        with open(self.output_dir / 'config' / 'template.json', 'w') as f:
            json.dump(template_config, f, indent=2, ensure_ascii=False)

        # api_config.json
        api_config = {
            api['id']: {'port': api['port'], 'url': f"http://{api['id']}-api:{api['port']}"}
            for api in self.config['required_apis']
        }
        with open(self.output_dir / 'config' / 'api_config.json', 'w') as f:
            json.dump(api_config, f, indent=2)

    def build_docker_images(self):
        # Docker Composeë¡œ ì´ë¯¸ì§€ ë¹Œë“œ
        subprocess.run([
            'docker', 'compose', 'build'
        ], cwd=self.output_dir / 'docker', check=True)

        # ì´ë¯¸ì§€ë¥¼ tarë¡œ ì €ì¥
        images_dir = self.output_dir / 'docker-images'
        images_dir.mkdir(exist_ok=True)

        for service in ['web', 'gateway', 'yolo-api', 'bom-api']:
            image_name = f"{self.config['meta']['id']}/{service}"
            subprocess.run([
                'docker', 'save', '-o',
                str(images_dir / f'{service}.tar'),
                image_name
            ], check=True)

    def generate_docs(self):
        # ì„¤ì¹˜ ê°€ì´ë“œ ìƒì„±
        install_md = self.generate_install_guide()
        with open(self.output_dir / 'docs' / 'INSTALL.md', 'w') as f:
            f.write(install_md)

        # ì‚¬ìš©ì ë§¤ë‰´ì–¼ ìƒì„±
        user_md = self.generate_user_manual()
        with open(self.output_dir / 'docs' / 'USER_MANUAL.md', 'w') as f:
            f.write(user_md)

    def create_final_package(self):
        package_name = f"{self.config['meta']['id']}-v{self.config['meta']['version']}"
        shutil.make_archive(
            str(self.output_dir.parent / package_name),
            'gztar',
            self.output_dir
        )


if __name__ == '__main__':
    parser = argparse.ArgumentParser()
    parser.add_argument('--config', required=True, help='Export config JSON')
    parser.add_argument('--output', required=True, help='Output directory')
    args = parser.parse_args()

    exporter = PackageExporter(args.config, args.output)
    exporter.export()
```

---

## ìš”ì•½: ë¹Œë” vs ëŸ°íƒ€ì„ ë¶„ë¦¬

| êµ¬ë¶„ | AX POC (ë¹Œë”) | ë‚©í’ˆ íŒ¨í‚¤ì§€ (ëŸ°íƒ€ì„) |
|------|---------------|---------------------|
| **ìš©ë„** | ì›Œí¬í”Œë¡œìš° ì„¤ê³„, í…ŒìŠ¤íŠ¸ | ì‹¤ì œ ì—…ë¬´ ì‚¬ìš© |
| **UI** | BlueprintFlow + Dashboard | ê°„ì†Œí™”ëœ ì‹¤í–‰ UI |
| **API** | 19ê°œ ì „ì²´ | í•„ìš”í•œ ê²ƒë§Œ |
| **ëª¨ë¸** | ëª¨ë“  ë²„ì „ | ì„ íƒëœ ê²ƒë§Œ |
| **í¬ê¸°** | ~50GB+ | ~2-5GB |
| **ì„¤ì •** | ë™ì  ë³€ê²½ ê°€ëŠ¥ | í…œí”Œë¦¿ ê³ ì • |

---

## êµ¬í˜„ ìš°ì„ ìˆœìœ„

| ë‹¨ê³„ | ì‘ì—… | ê¸°ê°„ |
|------|------|------|
| 1 | í”„ë¡ íŠ¸ì—”ë“œ ëª¨ë“ˆ ë¶„ë¦¬ (builder/runtime/verification) | 2ì¼ |
| 2 | Standalone ì•± êµ¬ì¡° êµ¬í˜„ | 2ì¼ |
| 3 | í…œí”Œë¦¿ JSON ìŠ¤í‚¤ë§ˆ ì •ì˜ | 1ì¼ |
| 4 | Export Manager UI | 3ì¼ |
| 5 | Export ìŠ¤í¬ë¦½íŠ¸ | 2ì¼ |
| 6 | ë‚©í’ˆìš© Docker êµ¬ì„± | 1ì¼ |
| **í•©ê³„** | | **11ì¼** |

---

## ê´€ë ¨ ë¬¸ì„œ

- **í†µí•© ì „ëµ**: `2025-12-14_integration_strategy.md`
- **í”„ë¡œì íŠ¸ êµ¬ì¡°**: `2025-12-14_project_structure.md`
