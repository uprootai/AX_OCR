# AX POC í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜ ê°œìš” (2025-12-29)

> **ëª©ì **: í”„ë¡œì íŠ¸ ì „ì²´ êµ¬ì¡° ì‹œê°í™” ë° ì˜¤ëŠ˜ ì‘ì—… ì •ë¦¬
> **ìƒíƒœ**: 17ê°œ API ë¦¬íŒ©í† ë§ ì™„ë£Œ, 16/16 ì»¨í…Œì´ë„ˆ healthy

---

## ğŸ“Š ì˜¤ëŠ˜ ì§„í–‰ ì‚¬í•­ ìš”ì•½

### ì»¤ë°‹ íˆìŠ¤í† ë¦¬
```
7bfaf9a fix: Dockerfileì— routers/, schemas.py COPY ì¶”ê°€
6a6aa4a chore: ë¬¸ì„œ ì—…ë°ì´íŠ¸ ë° í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì •ë¦¬
1573d86 refactor: 17ê°œ API ëª¨ë“ˆí™” ë° lifespan íŒ¨í„´ ì ìš©
```

### í•µì‹¬ ë³€ê²½ ì‚¬í•­
| í•­ëª© | Before | After | ê°œì„  |
|------|--------|-------|------|
| api_server.py í‰ê·  | 500~1,500ì¤„ | 100~200ì¤„ | 60-89% â†“ |
| ëª¨ë“ˆ êµ¬ì¡° | ë‹¨ì¼ íŒŒì¼ | routers/services/schemas | ë¶„ë¦¬ |
| ë¼ì´í”„ì‚¬ì´í´ | @app.on_event | lifespan íŒ¨í„´ | ìµœì‹ í™” |
| ì½”ë“œ ì´ëŸ‰ | +17,510 / -11,827 | ìˆœ +5,683ì¤„ | êµ¬ì¡°í™” |

---

## ğŸ—ï¸ ì „ì²´ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ax/poc/
â”‚
â”œâ”€â”€ ğŸ¨ web-ui/                      # React 19 í”„ë¡ íŠ¸ì—”ë“œ (localhost:5173)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/             # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ blueprintflow/      # ë…¸ë“œ í¸ì§‘ê¸° ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ nodes/          # ì»¤ìŠ¤í…€ ë…¸ë“œ UI
â”‚   â”‚   â”‚   â”œâ”€â”€ monitoring/         # API ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â””â”€â”€ ui/                 # shadcn/ui ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ config/                 # â­ í•µì‹¬ ì„¤ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ apiRegistry.ts      # API ì¤‘ì•™ ë ˆì§€ìŠ¤íŠ¸ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ nodeDefinitions.ts  # ë…¸ë“œ ì •ì˜ (index)
â”‚   â”‚   â”‚   â””â”€â”€ nodes/              # ì¹´í…Œê³ ë¦¬ë³„ ë…¸ë“œ ì •ì˜
â”‚   â”‚   â”‚       â”œâ”€â”€ analysisNodes.ts    # PID Analyzer, Design Checker
â”‚   â”‚   â”‚       â”œâ”€â”€ detectionNodes.ts   # YOLO
â”‚   â”‚   â”‚       â”œâ”€â”€ ocrNodes.ts         # eDOCr2, PaddleOCR, ë“±
â”‚   â”‚   â”‚       â””â”€â”€ segmentationNodes.ts # EDGNet, Line Detector
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ blueprintflow/      # BlueprintFlow ë¹Œë” í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/              # ê´€ë¦¬ì (API ìƒì„¸, ì„¤ì •)
â”‚   â”‚   â”‚   â””â”€â”€ dashboard/          # ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ hooks/                  # ì»¤ìŠ¤í…€ í›…
â”‚   â”‚   â”œâ”€â”€ store/                  # Zustand ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ locales/                # i18n (ko, en)
â”‚   â”‚
â”‚   â””â”€â”€ public/samples/             # ìƒ˜í”Œ ì´ë¯¸ì§€
â”‚
â”œâ”€â”€ ğŸš€ gateway-api/                 # FastAPI ê²Œì´íŠ¸ì›¨ì´ (localhost:8000)
â”‚   â”œâ”€â”€ api_server.py               # ë©”ì¸ ì„œë²„ (lifespan íŒ¨í„´)
â”‚   â”œâ”€â”€ api_specs/                  # â­ YAML API ìŠ¤í™ (18ê°œ)
â”‚   â”‚   â”œâ”€â”€ yolo.yaml               # YOLO ìŠ¤í™ + modelTypes ìƒì„¸
â”‚   â”‚   â”œâ”€â”€ design-checker.yaml     # Design Checker + BWMS
â”‚   â”‚   â”œâ”€â”€ pid-analyzer.yaml       # PID Analyzer + region rules
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ blueprintflow/              # íŒŒì´í”„ë¼ì¸ ì—”ì§„
â”‚   â”‚   â”œâ”€â”€ engine/
â”‚   â”‚   â”‚   â”œâ”€â”€ pipeline_engine.py  # ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ì—”ì§„
â”‚   â”‚   â”‚   â”œâ”€â”€ execution_context.py # ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ input_collector.py  # ì…ë ¥ ìˆ˜ì§‘ê¸°
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ executors/              # â­ ë…¸ë“œ ì‹¤í–‰ê¸° (18ê°œ)
â”‚   â”‚       â”œâ”€â”€ base_executor.py    # ê¸°ë³¸ í´ë˜ìŠ¤
â”‚   â”‚       â”œâ”€â”€ yolo_executor.py    # YOLO ì‹¤í–‰ê¸°
â”‚   â”‚       â”œâ”€â”€ designchecker_executor.py  # texts, include_bwms ì§€ì›
â”‚   â”‚       â”œâ”€â”€ pidanalyzer_executor.py    # texts, regions íŒ¨ìŠ¤ìŠ¤ë£¨
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ services/                   # ë°±ì—”ë“œ ì„œë¹„ìŠ¤
â”‚       â”œâ”€â”€ yolo_service.py         # YOLO API í˜¸ì¶œ
â”‚       â””â”€â”€ edocr2_service.py       # eDOCr2 API í˜¸ì¶œ
â”‚
â”œâ”€â”€ ğŸ”§ models/                      # â­ 18ê°œ API ì„œë¹„ìŠ¤
â”‚   â”‚
â”‚   â”œâ”€â”€ yolo-api/                   # ê°ì²´ ê²€ì¶œ (5005) âœ… ë¦¬íŒ©í† ë§ ì™„ë£Œ
â”‚   â”‚   â”œâ”€â”€ api_server.py           # 202ì¤„ (ì´ì „ 864ì¤„)
â”‚   â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â”‚   â”œâ”€â”€ detection_router.py # /api/v1/detect, /detect/sahi
â”‚   â”‚   â”‚   â””â”€â”€ models_router.py    # /api/v1/models
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ inference.py        # YOLO ì¶”ë¡  ì„œë¹„ìŠ¤
â”‚   â”‚   â”‚   â”œâ”€â”€ registry.py         # ëª¨ë¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ sahi_inference.py   # SAHI ìŠ¬ë¼ì´ì‹±
â”‚   â”‚   â””â”€â”€ models/
â”‚   â”‚       â””â”€â”€ schemas.py          # Pydantic ìŠ¤í‚¤ë§ˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ design-checker-api/         # ì„¤ê³„ ê²€ì¦ (5019) âœ… v1.0 ì™„ë£Œ
â”‚   â”‚   â”œâ”€â”€ api_server.py           # 167ì¤„ (ì´ì „ 1,482ì¤„)
â”‚   â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â”‚   â”œâ”€â”€ check_router.py     # /api/v1/check, /check/bwms
â”‚   â”‚   â”‚   â”œâ”€â”€ rules_router.py     # /api/v1/rules/*
â”‚   â”‚   â”‚   â””â”€â”€ checklist_router.py # /api/v1/checklist/*
â”‚   â”‚   â”œâ”€â”€ schemas.py              # 81ì¤„
â”‚   â”‚   â”œâ”€â”€ constants.py            # ê·œì¹™ ìƒìˆ˜ (20ê°œ)
â”‚   â”‚   â”œâ”€â”€ checker.py              # ì„¤ê³„ ê²€ì¦ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ bwms_rules.py           # BWMS 7ê°œ ê·œì¹™
â”‚   â”‚   â”œâ”€â”€ rule_loader.py          # YAML ê·œì¹™ ë¡œë”
â”‚   â”‚   â”œâ”€â”€ excel_parser.py         # Excel ì²´í¬ë¦¬ìŠ¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ config/                 # ë™ì  ê·œì¹™ ì €ì¥
â”‚   â”‚   â””â”€â”€ templates/              # Excel í…œí”Œë¦¿
â”‚   â”‚
â”‚   â”œâ”€â”€ pid-analyzer-api/           # P&ID ë¶„ì„ (5018) âœ… ë¦¬íŒ©í† ë§ ì™„ë£Œ
â”‚   â”‚   â”œâ”€â”€ api_server.py           # 137ì¤„ (ì´ì „ 1,926ì¤„)
â”‚   â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â”‚   â”œâ”€â”€ analysis_router.py  # /api/v1/analyze
â”‚   â”‚   â”‚   â”œâ”€â”€ bwms_router.py      # /api/v1/bwms/*
â”‚   â”‚   â”‚   â”œâ”€â”€ equipment_router.py # /api/v1/equipment/*
â”‚   â”‚   â”‚   â””â”€â”€ region_router.py    # /api/v1/region-*, /valve-signal/*
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ analysis_service.py # ì—°ê²°ì„± ë¶„ì„ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ equipment_analyzer.py   # ì¥ë¹„ ë¶„ì„
â”‚   â”‚   â”œâ”€â”€ region_extractor.py     # ì˜ì—­ ì¶”ì¶œ
â”‚   â”‚   â””â”€â”€ region_rules.yaml       # ì˜ì—­ ê·œì¹™ ì •ì˜
â”‚   â”‚
â”‚   â”œâ”€â”€ line-detector-api/          # ë¼ì¸ ê²€ì¶œ (5016) âœ… ë¦¬íŒ©í† ë§ ì™„ë£Œ
â”‚   â”‚   â”œâ”€â”€ api_server.py           # 136ì¤„ (ì´ì „ 1,422ì¤„)
â”‚   â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â”‚   â””â”€â”€ process_router.py   # /api/v1/process
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚       â”œâ”€â”€ detection_service.py      # LSD/Hough ê²€ì¶œ
â”‚   â”‚       â”œâ”€â”€ classification_service.py # ìŠ¤íƒ€ì¼/ìƒ‰ìƒ ë¶„ë¥˜
â”‚   â”‚       â”œâ”€â”€ region_service.py         # ì ì„  ì˜ì—­ ê²€ì¶œ
â”‚   â”‚       â””â”€â”€ visualization_service.py  # ì‹œê°í™”
â”‚   â”‚
â”‚   â”œâ”€â”€ vl-api/                     # Vision-Language (5004) âœ… ë¦¬íŒ©í† ë§ ì™„ë£Œ
â”‚   â”‚   â”œâ”€â”€ api_server.py           # 202ì¤„ (ì´ì „ 1,035ì¤„)
â”‚   â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â”‚   â””â”€â”€ analysis_router.py
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ vl_service.py
â”‚   â”‚   â””â”€â”€ schemas.py
â”‚   â”‚
â”‚   â”œâ”€â”€ [OCR APIs] âœ… ëª¨ë‘ ë¦¬íŒ©í† ë§ ì™„ë£Œ
â”‚   â”‚   â”œâ”€â”€ edocr2-v2-api/          # í•œêµ­ì–´ ì¹˜ìˆ˜ OCR (5002)
â”‚   â”‚   â”œâ”€â”€ paddleocr-api/          # ë‹¤êµ­ì–´ OCR (5006)
â”‚   â”‚   â”œâ”€â”€ tesseract-api/          # ë¬¸ì„œ OCR (5008)
â”‚   â”‚   â”œâ”€â”€ trocr-api/              # í•„ê¸°ì²´ OCR (5009)
â”‚   â”‚   â”œâ”€â”€ ocr-ensemble-api/       # 4ì—”ì§„ ì•™ìƒë¸” (5011)
â”‚   â”‚   â”œâ”€â”€ surya-ocr-api/          # 90+ ì–¸ì–´ (5013)
â”‚   â”‚   â”œâ”€â”€ doctr-api/              # 2ë‹¨ê³„ íŒŒì´í”„ë¼ì¸ (5014)
â”‚   â”‚   â””â”€â”€ easyocr-api/            # 80+ ì–¸ì–´ (5015)
â”‚   â”‚
â”‚   â”œâ”€â”€ [ê¸°íƒ€ APIs] âœ… ëª¨ë‘ ë¦¬íŒ©í† ë§ ì™„ë£Œ
â”‚   â”‚   â”œâ”€â”€ edgnet-api/             # ì—£ì§€ ì„¸ê·¸ë©˜í…Œì´ì…˜ (5012)
â”‚   â”‚   â”œâ”€â”€ esrgan-api/             # 4x ì—…ìŠ¤ì¼€ì¼ë§ (5010)
â”‚   â”‚   â”œâ”€â”€ skinmodel-api/          # ê³µì°¨ ë¶„ì„ (5003)
â”‚   â”‚   â””â”€â”€ knowledge-api/          # Neo4j GraphRAG (5007)
â”‚   â”‚
â”‚   â””â”€â”€ [ë ˆê±°ì‹œ]
â”‚       â””â”€â”€ edocr2-api/             # (ì‚¬ìš© ì•ˆí•¨)
â”‚
â”œâ”€â”€ ğŸ“š docs/                        # ë¬¸ì„œ
â”‚   â”œâ”€â”€ api/                        # APIë³„ ë¬¸ì„œ
â”‚   â”‚   â”œâ”€â”€ design-checker/
â”‚   â”‚   â”‚   â”œâ”€â”€ parameters.md
â”‚   â”‚   â”‚   â”œâ”€â”€ endpoints.md        # âœ¨ ì‹ ê·œ
â”‚   â”‚   â”‚   â””â”€â”€ bwms-rules.md       # âœ¨ ì‹ ê·œ
â”‚   â”‚   â”œâ”€â”€ pid-analyzer/
â”‚   â”‚   â”‚   â”œâ”€â”€ parameters.md
â”‚   â”‚   â”‚   â””â”€â”€ endpoints.md        # âœ¨ ì‹ ê·œ
â”‚   â”‚   â””â”€â”€ line-detector/
â”‚   â”‚       â””â”€â”€ endpoints.md        # âœ¨ ì‹ ê·œ
â”‚   â”‚
â”‚   â”œâ”€â”€ blueprintflow/              # BlueprintFlow ë¬¸ì„œ
â”‚   â”œâ”€â”€ insights/                   # ë²¤ì¹˜ë§ˆí¬ & ì¸ì‚¬ì´íŠ¸
â”‚   â””â”€â”€ papers/                     # ì°¸ì¡° ë…¼ë¬¸
â”‚
â”œâ”€â”€ ğŸ¤– blueprint-ai-bom/            # Human-in-the-Loop BOM (5020)
â”‚   â”œâ”€â”€ backend/                    # FastAPI ë°±ì—”ë“œ
â”‚   â””â”€â”€ frontend/                   # React í”„ë¡ íŠ¸ì—”ë“œ
â”‚
â”œâ”€â”€ ğŸ“ .todos/                      # TODO ê´€ë¦¬
â”‚   â”œâ”€â”€ 2025-12-29_post_refactoring_consistency_review.md
â”‚   â”œâ”€â”€ 2025-12-29_codebase_consistency_tasks.md
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ ğŸ³ docker-compose.yml           # ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
â”œâ”€â”€ ğŸ“‹ CLAUDE.md                    # í”„ë¡œì íŠ¸ ê°€ì´ë“œ (LLMìš©)
â””â”€â”€ ğŸš€ QUICK_START.md               # ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ
```

---

## ğŸ”„ ë°ì´í„° íë¦„ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AX POC ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ì‚¬ìš©ì      â”‚
    â”‚  (Browser)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ HTTP :5173
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¨ web-ui (React 19 + Vite)                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Dashboard   â”‚  â”‚ BlueprintFlowâ”‚  â”‚ Admin Panel â”‚  â”‚ API Detail  â”‚    â”‚
â”‚  â”‚ ëª¨ë‹ˆí„°ë§     â”‚  â”‚ ë…¸ë“œ ë¹Œë”    â”‚  â”‚ ì„¤ì • ê´€ë¦¬   â”‚  â”‚ í•˜ì´í¼íŒŒë¼ë¯¸í„°â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                            â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ config/nodeDefinitions.ts        store/workflowStore.ts           â”‚  â”‚
â”‚  â”‚ â”œâ”€â”€ analysisNodes.ts             (Zustand ìƒíƒœ ê´€ë¦¬)               â”‚  â”‚
â”‚  â”‚ â”œâ”€â”€ detectionNodes.ts                                             â”‚  â”‚
â”‚  â”‚ â”œâ”€â”€ ocrNodes.ts                                                   â”‚  â”‚
â”‚  â”‚ â””â”€â”€ segmentationNodes.ts                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ HTTP :8000
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš€ gateway-api (FastAPI)                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ blueprintflow/engine/pipeline_engine.py                         â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚  â”‚   â”‚ ë…¸ë“œ 1   â”‚â”€â”€â”€â–¶â”‚ ë…¸ë“œ 2   â”‚â”€â”€â”€â–¶â”‚ ë…¸ë“œ 3   â”‚â”€â”€â”€â–¶â”‚ ë…¸ë“œ N   â”‚ â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â”‚        â”‚               â”‚               â”‚               â”‚        â”‚    â”‚
â”‚  â”‚        â–¼               â–¼               â–¼               â–¼        â”‚    â”‚
â”‚  â”‚   executor_1      executor_2      executor_3      executor_N    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ api_specs/*.yaml                 executors/*.py                  â”‚    â”‚
â”‚  â”‚ â”œâ”€â”€ yolo.yaml                    â”œâ”€â”€ yolo_executor.py           â”‚    â”‚
â”‚  â”‚ â”œâ”€â”€ design-checker.yaml          â”œâ”€â”€ designchecker_executor.py  â”‚    â”‚
â”‚  â”‚ â”œâ”€â”€ pid-analyzer.yaml            â”œâ”€â”€ pidanalyzer_executor.py    â”‚    â”‚
â”‚  â”‚ â””â”€â”€ ...                          â””â”€â”€ ...                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ HTTP :500X
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”§ models/*-api (18ê°œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤)                                    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                        ë¦¬íŒ©í† ë§ëœ API êµ¬ì¡°                           â”‚â”‚
â”‚  â”‚                                                                      â”‚â”‚
â”‚  â”‚   api_server.py (100-200ì¤„)                                         â”‚â”‚
â”‚  â”‚        â”‚                                                             â”‚â”‚
â”‚  â”‚        â”œâ”€â”€ lifespan() â”€â”€â”€â”€â”€â–¶ ëª¨ë¸ ë¡œë“œ/í•´ì œ                         â”‚â”‚
â”‚  â”‚        â”‚                                                             â”‚â”‚
â”‚  â”‚        â””â”€â”€ app.include_router()                                      â”‚â”‚
â”‚  â”‚                 â”‚                                                    â”‚â”‚
â”‚  â”‚                 â–¼                                                    â”‚â”‚
â”‚  â”‚   routers/                    services/               schemas.py    â”‚â”‚
â”‚  â”‚   â”œâ”€â”€ __init__.py             â”œâ”€â”€ __init__.py         (Pydantic)   â”‚â”‚
â”‚  â”‚   â”œâ”€â”€ *_router.py             â”œâ”€â”€ model.py                         â”‚â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ @router.get()       â”‚   â””â”€â”€ load_model()                 â”‚â”‚
â”‚  â”‚   â”‚   â””â”€â”€ @router.post()      â”œâ”€â”€ state.py                         â”‚â”‚
â”‚  â”‚   â”‚                           â”‚   â”œâ”€â”€ get_*()                      â”‚â”‚
â”‚  â”‚   â”‚                           â”‚   â””â”€â”€ set_*()                      â”‚â”‚
â”‚  â”‚   â”‚                           â””â”€â”€ *_service.py                     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  YOLO  â”‚ â”‚eDOCr2  â”‚ â”‚Paddle  â”‚ â”‚  VL    â”‚ â”‚ EDGNet â”‚ â”‚  Line  â”‚    â”‚
â”‚  â”‚ :5005  â”‚ â”‚ :5002  â”‚ â”‚ :5006  â”‚ â”‚ :5004  â”‚ â”‚ :5012  â”‚ â”‚ :5016  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  PID   â”‚ â”‚Design  â”‚ â”‚Skin   â”‚ â”‚Knowledgeâ”‚ â”‚ ESRGAN â”‚ â”‚ BPBOM  â”‚    â”‚
â”‚  â”‚ :5018  â”‚ â”‚ :5019  â”‚ â”‚ :5003  â”‚ â”‚ :5007  â”‚ â”‚ :5010  â”‚ â”‚ :5020  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ P&ID ë¶„ì„ íŒŒì´í”„ë¼ì¸ ì˜ˆì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    P&ID Analysis Pipeline                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Image   â”‚     â”‚   YOLO   â”‚     â”‚   Line   â”‚     â”‚  Paddle  â”‚
   â”‚  Input   â”‚â”€â”€â”€â”€â–¶â”‚ pid_classâ”‚â”€â”€â”€â”€â–¶â”‚ Detector â”‚â”€â”€â”€â”€â–¶â”‚   OCR    â”‚
   â”‚          â”‚     â”‚  _aware  â”‚     â”‚          â”‚     â”‚          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚               â”‚                 â”‚
                          â”‚ symbols       â”‚ lines           â”‚ texts
                          â”‚               â”‚ regions         â”‚
                          â–¼               â–¼                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚            PID Analyzer                  â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
                    â”‚  â”‚ inputs:                              â”‚â”‚
                    â”‚  â”‚   - symbols (from YOLO)             â”‚â”‚
                    â”‚  â”‚   - lines (from Line Detector)      â”‚â”‚
                    â”‚  â”‚   - texts (from OCR) âœ¨ ì‹ ê·œ        â”‚â”‚
                    â”‚  â”‚   - regions (from Line Detector) âœ¨ â”‚â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
                    â”‚  â”‚ outputs:                             â”‚â”‚
                    â”‚  â”‚   - connections (ì—°ê²° ê´€ê³„)         â”‚â”‚
                    â”‚  â”‚   - bom (ë¶€í’ˆ ëª©ë¡)                  â”‚â”‚
                    â”‚  â”‚   - valve_list (ë°¸ë¸Œ ë¦¬ìŠ¤íŠ¸)        â”‚â”‚
                    â”‚  â”‚   - texts (íŒ¨ìŠ¤ìŠ¤ë£¨) âœ¨              â”‚â”‚
                    â”‚  â”‚   - regions (íŒ¨ìŠ¤ìŠ¤ë£¨) âœ¨            â”‚â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚           Design Checker                 â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
                    â”‚  â”‚ inputs:                              â”‚â”‚
                    â”‚  â”‚   - symbols                          â”‚â”‚
                    â”‚  â”‚   - connections                      â”‚â”‚
                    â”‚  â”‚   - lines                            â”‚â”‚
                    â”‚  â”‚   - texts âœ¨ (BWMS ê·œì¹™ìš©)          â”‚â”‚
                    â”‚  â”‚                                      â”‚â”‚
                    â”‚  â”‚ parameters:                          â”‚â”‚
                    â”‚  â”‚   - categories: [all, bwms, ...]    â”‚â”‚
                    â”‚  â”‚   - include_bwms: true âœ¨           â”‚â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
                    â”‚  â”‚ rules:                               â”‚â”‚
                    â”‚  â”‚   - 20ê°œ ë‚´ì¥ ê·œì¹™ (ISO, ISA)       â”‚â”‚
                    â”‚  â”‚   - 7ê°œ BWMS ê·œì¹™ (TECHCROSS)       â”‚â”‚
                    â”‚  â”‚   - ë™ì  ê·œì¹™ (Excel ì—…ë¡œë“œ)        â”‚â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   ê²°ê³¼ ë¦¬í¬íŠ¸     â”‚
                              â”‚  - violations    â”‚
                              â”‚  - compliance %  â”‚
                              â”‚  - suggestions   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ³ ì»¨í…Œì´ë„ˆ ìƒíƒœ (16/16 Healthy)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Docker Containers                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Service               Port    Status      GPU   Category               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… yolo-api            5005    healthy     âœ“    detection              â”‚
â”‚  âœ… design-checker-api  5019    healthy     -    analysis               â”‚
â”‚  âœ… pid-analyzer-api    5018    healthy     -    analysis               â”‚
â”‚  âœ… line-detector-api   5016    healthy     -    segmentation           â”‚
â”‚  âœ… edgnet-api          5012    healthy     âœ“    segmentation           â”‚
â”‚  âœ… vl-api              5004    healthy     âœ“    ai                     â”‚
â”‚  âœ… edocr2-v2-api       5002    healthy     âœ“    ocr                    â”‚
â”‚  âœ… paddleocr-api       5006    healthy     âœ“    ocr                    â”‚
â”‚  âœ… tesseract-api       5008    healthy     -    ocr                    â”‚
â”‚  âœ… trocr-api           5009    healthy     âœ“    ocr                    â”‚
â”‚  âœ… easyocr-api         5015    healthy     âœ“    ocr                    â”‚
â”‚  âœ… ocr-ensemble-api    5011    healthy     -    ocr                    â”‚
â”‚  âœ… esrgan-api          5010    healthy     âœ“    preprocessing          â”‚
â”‚  âœ… knowledge-api       5007    healthy     -    knowledge              â”‚
â”‚  âœ… skinmodel-api       5003    healthy     -    analysis               â”‚
â”‚  âœ… gateway-api         8000    healthy     -    orchestrator           â”‚
â”‚  âœ… blueprint-ai-bom    5020    healthy     -    analysis               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ë¦¬íŒ©í† ë§ëœ API ëª¨ë“ˆ êµ¬ì¡°

### í‘œì¤€ êµ¬ì¡° (After)
```
models/{api-name}-api/
â”œâ”€â”€ api_server.py           # 100-200ì¤„ (lifespan + health + router include)
â”œâ”€â”€ schemas.py              # Pydantic ëª¨ë¸ (ì„ íƒ)
â”œâ”€â”€ routers/
â”‚   â”œâ”€â”€ __init__.py         # router export + __all__
â”‚   â””â”€â”€ *_router.py         # FastAPI Router (ì—”ë“œí¬ì¸íŠ¸)
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ __init__.py         # service export
â”‚   â”œâ”€â”€ model.py            # ëª¨ë¸ ë¡œë“œ/ì¶”ë¡  í•¨ìˆ˜
â”‚   â””â”€â”€ state.py            # ì „ì—­ ìƒíƒœ ê´€ë¦¬ (get_*/set_*)
â”œâ”€â”€ utils/                  # ìœ í‹¸ë¦¬í‹° (ì„ íƒ)
â””â”€â”€ Dockerfile              # COPY routers/, schemas.py í¬í•¨
```

### ì½”ë“œ ê°ì†Œ í˜„í™©
| API | Before | After | ê°ì†Œìœ¨ |
|-----|--------|-------|--------|
| pid-analyzer-api | 1,926ì¤„ | 137ì¤„ | **93%** |
| design-checker-api | 1,482ì¤„ | 167ì¤„ | **89%** |
| line-detector-api | 1,422ì¤„ | 136ì¤„ | **90%** |
| vl-api | 1,035ì¤„ | 202ì¤„ | **80%** |
| yolo-api | 864ì¤„ | 202ì¤„ | **77%** |
| ocr-ensemble-api | 605ì¤„ | 106ì¤„ | **82%** |
| esrgan-api | 490ì¤„ | 104ì¤„ | **79%** |
| ê¸°íƒ€ OCR APIs | 300-400ì¤„ | 100-130ì¤„ | **65-75%** |

---

## ğŸ”§ ì£¼ìš” ë³€ê²½ ì‚¬í•­ ìƒì„¸

### 1. Executor íŒ¨í„´ í™•ì¥
```python
# designchecker_executor.py, pidanalyzer_executor.py
# texts ì…ë ¥ ì²˜ë¦¬ ì¶”ê°€
if "texts" in inputs:
    texts = inputs.get("texts", [])
if "text_results" in inputs:
    texts = inputs.get("text_results", [])

# from_ prefix ì²˜ë¦¬ (Merge ë…¸ë“œ ì§€ì›)
for key, value in inputs.items():
    if key.startswith("from_") and isinstance(value, dict):
        if "texts" in value and not texts:
            texts = value.get("texts", [])
```

### 2. YOLO model_type ë³€ê²½
```yaml
# Before
options: [engineering, pid_symbol, pid_class_agnostic, pid_class_aware, bom_detector]

# After
options: [engineering, pid_class_aware, pid_class_agnostic, bom_detector]
# pid_symbol ì œê±° (ë°±ì—”ë“œì—ì„œ pid_class_awareë¡œ ìë™ ë§¤í•‘)
```

### 3. Design Checker BWMS í™•ì¥
```yaml
# design-checker.yaml
parameters:
  - name: categories
    options: [all, connectivity, symbol, labeling, ..., bwms]  # bwms ì¶”ê°€
  - name: include_bwms
    type: boolean
    default: true
```

---

## ğŸ“‹ í–¥í›„ ì‘ì—… (TODO)

ì°¸ì¡°: `.todos/2025-12-29_post_refactoring_consistency_review.md`

| ìš°ì„ ìˆœìœ„ | ì‘ì—… | ìƒíƒœ |
|----------|------|------|
| âœ… ì™„ë£Œ | 17ê°œ API ë¦¬íŒ©í† ë§ | Done |
| âœ… ì™„ë£Œ | Dockerfile ìˆ˜ì • | Done |
| âœ… ì™„ë£Œ | Docker ë¹Œë“œ í…ŒìŠ¤íŠ¸ | Done |
| ğŸ”„ ëŒ€ê¸° | git push | ëŒ€ê¸° |
| ğŸ“‹ ê¶Œì¥ | ë‚˜ë¨¸ì§€ API Docker ë¦¬ë¹Œë“œ | Optional |

---

**ì‘ì„±ì¼**: 2025-12-29
**ì‘ì„±ì**: Claude Code (Opus 4.5)
**í”„ë¡œì íŠ¸**: AX POC - ê¸°ê³„ ë„ë©´ ìë™ ë¶„ì„ ì‹œìŠ¤í…œ
