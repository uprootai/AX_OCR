%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#e8f4f8','primaryTextColor':'#000','primaryBorderColor':'#4a90e2','lineColor':'#4a90e2','fontSize':'14px'}}}%%
graph LR
    A["<b>입력 도면</b><br/><br/>PDF/JPG/PNG<br/>도면 파일"]
    B["<b>이미지 전처리</b><br/><br/>노이즈 제거<br/>대비 향상"]
    C["<b>요소 분류</b><br/><br/>EDGNet 세그멘테이션<br/>윤곽선/텍스트/치수"]
    D1["<b>치수 파이프라인</b><br/><br/>CRNN 인식<br/>선형/직경/반지름"]
    D2["<b>GD&T 파이프라인</b><br/><br/>14개 심볼<br/>인식"]
    D3["<b>정보 블록 파이프라인</b><br/><br/>도면번호, 재질<br/>제목, 주석"]
    E["<b>통합 레이어</b><br/><br/>결과 병합<br/>JSON 구조화"]
    F["<b>구조화 출력</b><br/><br/>치수, GD&T,<br/>메타데이터"]

    A --> B
    B --> C
    C --> D1
    C --> D2
    C --> D3
    D1 --> E
    D2 --> E
    D3 --> E
    E --> F

    style A fill:#e8f4f8,stroke:#4a90e2,stroke-width:2px
    style B fill:#e8f4f8,stroke:#4a90e2,stroke-width:2px
    style C fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style D1 fill:#f0e8f8,stroke:#9b59b6,stroke-width:2px
    style D2 fill:#f0e8f8,stroke:#9b59b6,stroke-width:2px
    style D3 fill:#f0e8f8,stroke:#9b59b6,stroke-width:2px
    style E fill:#ffeaa7,stroke:#fdcb6e,stroke-width:2px
    style F fill:#90EE90,stroke:#228B22,stroke-width:3px
