%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#e8f4f8','primaryTextColor':'#000','primaryBorderColor':'#4a90e2','lineColor':'#4a90e2','secondaryColor':'#f0e8f8','tertiaryColor':'#fff', 'fontSize':'14px'}}}%%
graph LR
    A1["<b>고객 요구사항<br/>텍스트</b><br/><br/>(엑셀 개발 요청)"]
    A2["<b>텍스트<br/>임베딩</b><br/><br/>OpenAI<br/>text-embedding-3"]
    A3["<b>FAISS +<br/>GraphRAG</b><br/><br/>유사 사례<br/>검색"]
    A4["<b>과거 공수<br/>데이터 참조</b><br/><br/>유사 사례의<br/>공수·비용"]
    A5["<b>GPT-4<br/>공수 산정</b><br/><br/>코드 추천<br/>자동 생성"]

    A1 -->|"NLP 프로젝트"| A2
    A2 --> A3
    A3 --> A4
    A4 --> A5

    B1["<b>도면 OCR<br/>결과</b><br/><br/>치수, GD&T,<br/>재질, 부품명"]
    B2["<b>메타데이터<br/>임베딩</b><br/><br/>OpenAI<br/>text-embedding-3"]
    B3["<b>FAISS<br/>검색</b><br/><br/>유사 도면<br/>검색"]
    B4["<b>과거 견적<br/>데이터 참조</b><br/><br/>가공비, 재료비,<br/>공수, 납기"]
    B5["<b>GPT-4<br/>견적 생성</b><br/><br/>자동 견적<br/>자연어 설명"]

    B1 -->|"도면 분석 프로젝트"| B2
    B2 --> B3
    B3 --> B4
    B4 --> B5

    A5 -.->|"동일한 RAG + LLM 파이프라인"| B1

    style A1 fill:#e8f4f8,stroke:#4a90e2,stroke-width:2px
    style A2 fill:#e8f4f8,stroke:#4a90e2,stroke-width:2px
    style A3 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style A4 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style A5 fill:#90EE90,stroke:#228B22,stroke-width:3px

    style B1 fill:#f0e8f8,stroke:#9b59b6,stroke-width:2px
    style B2 fill:#f0e8f8,stroke:#9b59b6,stroke-width:2px
    style B3 fill:#ffeaa7,stroke:#fdcb6e,stroke-width:2px
    style B4 fill:#ffeaa7,stroke:#fdcb6e,stroke-width:2px
    style B5 fill:#90EE90,stroke:#228B22,stroke-width:3px
