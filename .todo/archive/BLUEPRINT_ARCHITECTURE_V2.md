# Blueprint AI BOM ì•„í‚¤í…ì²˜ v2

> **ìƒì„±ì¼**: 2026-01-24
> **ìƒíƒœ**: ì„¤ê³„ í™•ì •
> **ëª©ì **: Template, Project, Sessionì˜ ëª…í™•í•œ ì—­í•  ì •ì˜

---

## ì „ì²´ íë¦„ (End-to-End)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           AX ë‚´ë¶€ (ìš°ë¦¬ íŒ€)                                  â”‚
â”‚                                                                             â”‚
â”‚   1. í…œí”Œë¦¿ ìƒì„±          2. í”„ë¡œì íŠ¸ ì„¤ì •         3. ì„¸ì…˜ ê²€ì¦              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚   Builder    â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚   Project    â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚   Session    â”‚           â”‚
â”‚   â”‚  (ì›Œí¬í”Œë¡œìš°) â”‚       â”‚ (ê³ ê°+GTì„¤ì •) â”‚       â”‚ (ë‹¤ì¤‘ì´ë¯¸ì§€)  â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚         â”‚                       â”‚                      â”‚                    â”‚
â”‚         â–¼                       â–¼                      â–¼                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚  Template    â”‚       â”‚  GT Folder   â”‚       â”‚   ê²€ì¦ ì™„ë£Œ   â”‚           â”‚
â”‚   â”‚   ì €ì¥       â”‚       â”‚   ì—°ê²°       â”‚       â”‚   100ì  ë‹¬ì„±  â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                        â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                         â”‚
                                                         â–¼ Export
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ê³ ê°ì‚¬ (íŒŒë‚˜ì‹œì•„, í…Œí¬ë¡œìŠ¤ ë“±)                         â”‚
â”‚                                                                             â”‚
â”‚   4. ì„¸ì…˜ ì „ë‹¬            5. ê³ ê° ì‚¬ìš©              6. ì§€ì†ì  í™œìš©           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚ Exported     â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚ Human-in-   â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚  ë°ì´í„° ì¶”ê°€  â”‚           â”‚
â”‚   â”‚ Session      â”‚       â”‚ the-Loop    â”‚       â”‚  ê²°ê³¼ ìˆ˜ì •    â”‚           â”‚
â”‚   â”‚ (íŒ¨í‚¤ì§€)     â”‚       â”‚ (ê²€í† /ìˆ˜ì •)  â”‚       â”‚  ì¬ë¶„ì„      â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## í•µì‹¬ ê°œë… ì •ì˜

### 1. Template (í…œí”Œë¦¿)
> **"ì–´ë–»ê²Œ ë¶„ì„í•  ê²ƒì¸ê°€?"**

| ì†ì„± | ì„¤ëª… |
|------|------|
| **ì •ì˜** | ì›Œí¬í”Œë¡œìš° ë…¸ë“œ + ì—°ê²° + íŒŒë¼ë¯¸í„° ì„¤ì • |
| **ìƒì„±ì** | AX ë‚´ë¶€ ì—”ì§€ë‹ˆì–´ (Builderì—ì„œ ìƒì„±) |
| **ì¬ì‚¬ìš©** | ì—¬ëŸ¬ Projectì—ì„œ ê³µìœ  ê°€ëŠ¥ |
| **ì˜ˆì‹œ** | "P&ID ì‹¬ë³¼ê²€ì¶œ v2", "BOM í…Œì´ë¸”ì¶”ì¶œ", "3D ì¹˜ìˆ˜ë¶„ì„" |

```
Template
â”œâ”€â”€ workflow_data (nodes, edges)
â”œâ”€â”€ model_type (pid_class_aware, bom_detector, ...)
â”œâ”€â”€ default_parameters
â””â”€â”€ features (symbol_detection, line_tracing, ...)
```

---

### 2. Project (í”„ë¡œì íŠ¸)
> **"ëˆ„êµ¬ë¥¼ ìœ„í•´, ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ?"**

| ì†ì„± | ì„¤ëª… |
|------|------|
| **ì •ì˜** | ê³ ê° + í…œí”Œë¦¿ + GT ë°ì´í„° + ì„¤ì •ì˜ ì¡°í•© |
| **ìƒì„±ì** | AX ë‚´ë¶€ PM/ì—”ì§€ë‹ˆì–´ |
| **ëª©ì ** | ê³ ê°ë³„ ë§ì¶¤ ë¶„ì„ í™˜ê²½ êµ¬ì„± |
| **ì˜ˆì‹œ** | "íŒŒë‚˜ì‹œì•„ BWMS 2024", "í…Œí¬ë¡œìŠ¤ P&ID ê²€ì¦" |

```
Project
â”œâ”€â”€ customer_id (panasia, techross, ...)
â”œâ”€â”€ template_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Template ì°¸ì¡°
â”œâ”€â”€ gt_folder ("/data/gt/panasia-bwms/")
â”œâ”€â”€ customer_config (ë§ˆì§„ìœ¨, ì¶œë ¥í˜•ì‹, ì–¸ì–´ ë“±)
â””â”€â”€ sessions[] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Session ëª©ë¡
```

**í•µì‹¬**: ProjectëŠ” "ì´ ê³ ê°ì—ê²ŒëŠ” ì´ í…œí”Œë¦¿ê³¼ ì´ GTë¥¼ ì‚¬ìš©í•œë‹¤"ë¥¼ ì •ì˜

---

### 3. Session (ì„¸ì…˜)
> **"ì‹¤ì œ ë¶„ì„ ì‹¤í–‰ ë‹¨ìœ„ (ë‹¤ì¤‘ ì´ë¯¸ì§€ ì²˜ë¦¬)"**

| ì†ì„± | ì„¤ëª… |
|------|------|
| **ì •ì˜** | ë™ì¼ ì„¤ì •ìœ¼ë¡œ ì—¬ëŸ¬ ì´ë¯¸ì§€ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì‹¤í–‰ ë‹¨ìœ„ |
| **ìƒì„±ì** | Project ë‚´ì—ì„œ ìë™/ìˆ˜ë™ ìƒì„± |
| **íŠ¹ì§•** | **ì—¬ëŸ¬ ì¥ì˜ ì´ë¯¸ì§€**ë¥¼ ë™ì¼ íŒŒë¼ë¯¸í„°ë¡œ ì²˜ë¦¬ |
| **ì˜ˆì‹œ** | "BWMS ë„ë©´ ì„¸íŠ¸ (15ì¥)", "ë°¸ë¸Œ ìƒì„¸ë„ ë°°ì¹˜ (8ì¥)" |

```
Session
â”œâ”€â”€ project_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Project ì°¸ì¡°
â”œâ”€â”€ template_snapshot â”€â”€â”€â”€â”€â–¶ ì‹¤í–‰ ì‹œì ì˜ Template ë³µì‚¬ë³¸
â”œâ”€â”€ images[] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ ì²˜ë¦¬ ëŒ€ìƒ ì´ë¯¸ì§€ë“¤ (1ì¥ ~ Nì¥)
â”‚   â”œâ”€â”€ image_1.png
â”‚   â”œâ”€â”€ image_2.png
â”‚   â””â”€â”€ image_N.png
â”œâ”€â”€ results[] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ ì´ë¯¸ì§€ë³„ ë¶„ì„ ê²°ê³¼
â”œâ”€â”€ status (pending, running, completed, exported)
â””â”€â”€ is_exportable (ê²€ì¦ ì™„ë£Œ ì—¬ë¶€)
```

**í•µì‹¬**:
- 1 Session = N Images (ë™ì¼ ì„¤ì •)
- ëª¨ë¸/íŒŒë¼ë¯¸í„°ê°€ ê°™ìœ¼ë©´ í•œ ì„¸ì…˜ì—ì„œ ë‹¤ì¤‘ ì²˜ë¦¬

---

### 4. Exported Session (ë‚´ë³´ë‚¸ ì„¸ì…˜)
> **"ê³ ê°ì—ê²Œ ì „ë‹¬ë˜ëŠ” ë…ë¦½ íŒ¨í‚¤ì§€"**

| ì†ì„± | ì„¤ëª… |
|------|------|
| **ì •ì˜** | ê²€ì¦ ì™„ë£Œëœ Sessionì„ ê³ ê°ìš©ìœ¼ë¡œ íŒ¨í‚¤ì§• |
| **ëŒ€ìƒ** | ê³ ê°ì‚¬ ë‹´ë‹¹ì (Human-in-the-Loop ìˆ˜í–‰ì) |
| **ê¸°ëŠ¥** | ë°ì´í„° ì¶”ê°€, ê²°ê³¼ ìˆ˜ì •, ì¬ë¶„ì„ |
| **ì˜ˆì‹œ** | "panasia_bwms_session_20240124.axpkg" |

```
Exported Session (íŒ¨í‚¤ì§€)
â”œâ”€â”€ session_data â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ ì›ë³¸ Session ë³µì œ
â”œâ”€â”€ template_snapshot â”€â”€â”€â”€â–¶ ê³ ì •ëœ ì›Œí¬í”Œë¡œìš° (ìˆ˜ì • ë¶ˆê°€)
â”œâ”€â”€ results[] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ ê¸°ì¡´ ë¶„ì„ ê²°ê³¼
â”œâ”€â”€ customer_ui_config â”€â”€â”€â–¶ ê³ ê°ìš© UI ì„¤ì •
â”‚   â”œâ”€â”€ editable_fields (ìˆ˜ì • ê°€ëŠ¥ í•„ë“œ)
â”‚   â”œâ”€â”€ hidden_fields (ìˆ¨ê¹€ í•„ë“œ)
â”‚   â””â”€â”€ validation_rules (ì…ë ¥ ê²€ì¦ ê·œì¹™)
â””â”€â”€ capabilities
    â”œâ”€â”€ can_add_images: true â”€â”€â–¶ ìƒˆ ì´ë¯¸ì§€ ì¶”ê°€ ê°€ëŠ¥
    â”œâ”€â”€ can_edit_results: true â–¶ ê²°ê³¼ ìˆ˜ì • ê°€ëŠ¥
    â”œâ”€â”€ can_rerun: true â”€â”€â”€â”€â”€â”€â”€â–¶ ì¬ë¶„ì„ ê°€ëŠ¥
    â””â”€â”€ can_export: true â”€â”€â”€â”€â”€â”€â–¶ Excel/PDF ì¶œë ¥
```

---

## ê´€ê³„ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              TEMPLATES (ì¬ì‚¬ìš© ê°€ëŠ¥)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ P&ID ì‹¬ë³¼ê²€ì¶œ   â”‚   â”‚ BOM í…Œì´ë¸”ì¶”ì¶œ  â”‚   â”‚ 3D ì¹˜ìˆ˜ë¶„ì„     â”‚           â”‚
â”‚  â”‚ Template        â”‚   â”‚ Template        â”‚   â”‚ Template        â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚           â”‚                                                                 â”‚
â”‚           â”‚ ì°¸ì¡° (1:N)                                                      â”‚
â”‚           â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚                         PROJECTS                              â”‚          â”‚
â”‚  â”‚                                                               â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚          â”‚
â”‚  â”‚  â”‚ íŒŒë‚˜ì‹œì•„ BWMS 2024  â”‚      â”‚ í…Œí¬ë¡œìŠ¤ P&ID ê²€ì¦  â”‚        â”‚          â”‚
â”‚  â”‚  â”‚ template: P&IDì‹¬ë³¼  â”‚      â”‚ template: P&IDì‹¬ë³¼  â”‚        â”‚          â”‚
â”‚  â”‚  â”‚ gt: /panasia/       â”‚      â”‚ gt: /techross/      â”‚        â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚          â”‚
â”‚  â”‚             â”‚                            â”‚                    â”‚          â”‚
â”‚  â”‚             â”‚ í¬í•¨ (1:N)                 â”‚                    â”‚          â”‚
â”‚  â”‚             â”‚                            â”‚                    â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚          â”‚
â”‚  â”‚  â”‚      SESSIONS       â”‚      â”‚      SESSIONS       â”‚        â”‚          â”‚
â”‚  â”‚  â”‚                     â”‚      â”‚                     â”‚        â”‚          â”‚
â”‚  â”‚  â”‚ Session 1 (15ì¥)    â”‚      â”‚ Session 1 (8ì¥)     â”‚        â”‚          â”‚
â”‚  â”‚  â”‚ â”œâ”€ BWMS-001~015.png â”‚      â”‚ â”œâ”€ TR-001~008.png   â”‚        â”‚          â”‚
â”‚  â”‚  â”‚ â””â”€ status: ê²€ì¦ì™„ë£Œ â”‚      â”‚ â””â”€ status: ì§„í–‰ì¤‘   â”‚        â”‚          â”‚
â”‚  â”‚  â”‚                     â”‚      â”‚                     â”‚        â”‚          â”‚
â”‚  â”‚  â”‚ Session 2 (10ì¥)    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚          â”‚
â”‚  â”‚  â”‚ â”œâ”€ BWMS-016~025.png â”‚                                     â”‚          â”‚
â”‚  â”‚  â”‚ â””â”€ status: ì§„í–‰ì¤‘   â”‚                                     â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ Export (ê²€ì¦ ì™„ë£Œ ì‹œ)
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         EXPORTED SESSIONS (ê³ ê° ì „ë‹¬)                        â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ panasia_bwms_session_1.axpkg                                â”‚           â”‚
â”‚  â”‚                                                             â”‚           â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚           â”‚
â”‚  â”‚  â”‚ ê¸°ì¡´ ê²°ê³¼   â”‚  â”‚ ìƒˆ ì´ë¯¸ì§€   â”‚  â”‚ ê²°ê³¼ ìˆ˜ì •   â”‚         â”‚           â”‚
â”‚  â”‚  â”‚ 15ì¥ ë¶„ì„   â”‚  â”‚ ì¶”ê°€ ê°€ëŠ¥   â”‚  â”‚ ê°€ëŠ¥        â”‚         â”‚           â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚           â”‚
â”‚  â”‚                                                             â”‚           â”‚
â”‚  â”‚  ê³ ê°: íŒŒë‚˜ì‹œì•„ ë‹´ë‹¹ì                                       â”‚           â”‚
â”‚  â”‚  ê¸°ëŠ¥: Human-in-the-Loop, ë°ì´í„° ì¶”ê°€, Excel ì¶œë ¥            â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ A: ë‚´ë¶€ - ìƒˆ ê³ ê° ì˜¨ë³´ë”©

```
1. ì—”ì§€ë‹ˆì–´ê°€ Builderì—ì„œ ì›Œí¬í”Œë¡œìš° êµ¬ì„±
   â””â”€â–¶ Template "P&ID ì‹¬ë³¼ê²€ì¶œ v2" ì €ì¥

2. PMì´ Project ìƒì„±
   â””â”€â–¶ Project "íŒŒë‚˜ì‹œì•„ BWMS 2024"
       â”œâ”€â”€ template: "P&ID ì‹¬ë³¼ê²€ì¶œ v2"
       â”œâ”€â”€ gt_folder: "/data/gt/panasia-bwms/"
       â””â”€â”€ customer_config: { margin: 15%, lang: "ko" }

3. ë„ë©´ ì—…ë¡œë“œ â†’ Session ìƒì„±
   â””â”€â–¶ Session 1
       â”œâ”€â”€ images: [BWMS-001.png, BWMS-002.png, ... BWMS-015.png]
       â””â”€â”€ status: "pending"

4. ë¶„ì„ ì‹¤í–‰ â†’ ê²€ì¦ â†’ 100ì  ë‹¬ì„±
   â””â”€â–¶ Session 1
       â””â”€â”€ status: "completed", is_exportable: true
```

### ì‹œë‚˜ë¦¬ì˜¤ B: ë‚´ë¶€ - ë™ì¼ í…œí”Œë¦¿ ì¬ì‚¬ìš©

```
1. ìƒˆ ê³ ê° í…Œí¬ë¡œìŠ¤ë„ P&ID ë¶„ì„ í•„ìš”

2. ê¸°ì¡´ Template ì¬ì‚¬ìš©
   â””â”€â–¶ Project "í…Œí¬ë¡œìŠ¤ P&ID ê²€ì¦"
       â”œâ”€â”€ template: "P&ID ì‹¬ë³¼ê²€ì¶œ v2" (ë™ì¼!)
       â”œâ”€â”€ gt_folder: "/data/gt/techross/"  (ë‹¤ë¦„)
       â””â”€â”€ customer_config: { margin: 12%, lang: "ko" }

   â€» Template ìˆ˜ì • ì—†ì´ ìƒˆ Projectë§Œ ìƒì„±
```

### ì‹œë‚˜ë¦¬ì˜¤ C: ê³ ê° - Exported Session í™œìš©

```
1. AXì—ì„œ ê²€ì¦ ì™„ë£Œëœ Session Export
   â””â”€â–¶ panasia_bwms_session_1.axpkg ìƒì„±

2. ê³ ê°ì—ê²Œ ì „ë‹¬ (ì„¤ì¹˜í˜• ë˜ëŠ” ì›¹ ì ‘ê·¼)

3. ê³ ê°ì´ ìƒˆ ë„ë©´ ì¶”ê°€
   â””â”€â–¶ Exported Sessionì— BWMS-026.png ì¶”ê°€
       â””â”€â–¶ ë™ì¼ ì›Œí¬í”Œë¡œìš°ë¡œ ìë™ ë¶„ì„

4. ê³ ê°ì´ ê²°ê³¼ ê²€í† /ìˆ˜ì • (Human-in-the-Loop)
   â””â”€â–¶ ì‹¬ë³¼ ë¼ë²¨ ìˆ˜ì •, ì˜¤ê²€ì¶œ ì‚­ì œ ë“±

5. ê³ ê°ì´ Excel/PDF ì¶œë ¥
   â””â”€â–¶ ìµœì¢… BOM ë¦¬ìŠ¤íŠ¸ ìƒì„±
```

---

## í•µì‹¬ ì„¤ê³„ ì›ì¹™

### 1. ë¶„ë¦¬ëœ ì±…ì„

| ê°œë… | ì±…ì„ | ìˆ˜ì • ê¶Œí•œ |
|------|------|----------|
| **Template** | ë¶„ì„ ë°©ë²• ì •ì˜ | AX ì—”ì§€ë‹ˆì–´ë§Œ |
| **Project** | ê³ ê°ë³„ í™˜ê²½ êµ¬ì„± | AX PM/ì—”ì§€ë‹ˆì–´ë§Œ |
| **Session** | ì‹¤í–‰ ë° ê²°ê³¼ ê´€ë¦¬ | AX ë‚´ë¶€ |
| **Exported Session** | ê³ ê° ì‚¬ìš© | ê³ ê° (ì œí•œëœ ìˆ˜ì •) |

### 2. ë‹¤ì¤‘ ì´ë¯¸ì§€ ì²˜ë¦¬

```
Session (Nì¥ ì´ë¯¸ì§€)
â”œâ”€â”€ ì´ë¯¸ì§€ 1 â”€â”€â–¶ ë¶„ì„ â”€â”€â–¶ ê²°ê³¼ 1 â”€â”€â–¶ [ìŠ¹ì¸] [ê±°ë¶€] [ìˆ˜ì •] [ìˆ˜ì‘ì—… ë¼ë²¨ë§]
â”œâ”€â”€ ì´ë¯¸ì§€ 2 â”€â”€â–¶ ë¶„ì„ â”€â”€â–¶ ê²°ê³¼ 2 â”€â”€â–¶ [ìŠ¹ì¸] [ê±°ë¶€] [ìˆ˜ì •] [ìˆ˜ì‘ì—… ë¼ë²¨ë§]
â”œâ”€â”€ ì´ë¯¸ì§€ 3 â”€â”€â–¶ ë¶„ì„ â”€â”€â–¶ ê²°ê³¼ 3 â”€â”€â–¶ [ìŠ¹ì¸] [ê±°ë¶€] [ìˆ˜ì •] [ìˆ˜ì‘ì—… ë¼ë²¨ë§]
â””â”€â”€ ...

â€» ì´ë¯¸ì§€ ì²˜ë¦¬ ìì²´ëŠ” ë‹¨ìˆœ ìˆœì°¨ ì²˜ë¦¬ (ë™ì¼ Template/íŒŒë¼ë¯¸í„°)
â€» í•µì‹¬ ì´ìŠˆ: ê° ì´ë¯¸ì§€ë³„ë¡œ Human-in-the-Loop ìƒíƒœ ê´€ë¦¬ í•„ìš”
```

**ì´ë¯¸ì§€ë³„ ê²€í†  ìƒíƒœ (review_status)**:

| ìƒíƒœ | ì„¤ëª… | UI í‘œì‹œ |
|------|------|---------|
| `pending` | ë¶„ì„ ëŒ€ê¸° ì¤‘ | â³ ëŒ€ê¸° |
| `processed` | ë¶„ì„ ì™„ë£Œ, ê²€í†  í•„ìš” | ğŸ” ê²€í†  í•„ìš” |
| `approved` | ê²€í†  í›„ ìŠ¹ì¸ë¨ | âœ… ìŠ¹ì¸ |
| `rejected` | ê±°ë¶€ë¨ (ì¬ë¶„ì„ ë˜ëŠ” ì œì™¸) | âŒ ê±°ë¶€ |
| `modified` | ì‚¬ìš©ìê°€ ê²°ê³¼ ìˆ˜ì •í•¨ | âœï¸ ìˆ˜ì •ë¨ |
| `manual_labeled` | ìˆ˜ì‘ì—… ë¼ë²¨ë§ ì™„ë£Œ | ğŸ·ï¸ ìˆ˜ì‘ì—… |

**ì´ë¯¸ì§€ë³„ Human-in-the-Loop ì•¡ì…˜**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Session: BWMS ë„ë©´ ì„¸íŠ¸ (15ì¥)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ì´ë¯¸ì§€      â”‚ ìƒíƒœ     â”‚ ì•¡ì…˜                            â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ BWMS-001    â”‚ âœ… ìŠ¹ì¸  â”‚ [ë³´ê¸°] [ìˆ˜ì •] [ê±°ë¶€ë¡œ ë³€ê²½]     â”‚  â”‚
â”‚  â”‚ BWMS-002    â”‚ âœï¸ ìˆ˜ì •  â”‚ [ë³´ê¸°] [ìŠ¹ì¸] [ìˆ˜ì • ì´ë ¥]       â”‚  â”‚
â”‚  â”‚ BWMS-003    â”‚ ğŸ” ê²€í†   â”‚ [ìŠ¹ì¸] [ê±°ë¶€] [ìˆ˜ì •] [ë¼ë²¨ë§]   â”‚  â”‚
â”‚  â”‚ BWMS-004    â”‚ âŒ ê±°ë¶€  â”‚ [ì¬ë¶„ì„] [ì œì™¸] [ìˆ˜ì‘ì—…]        â”‚  â”‚
â”‚  â”‚ BWMS-005    â”‚ ğŸ·ï¸ ìˆ˜ì‘ì—…â”‚ [ë³´ê¸°] [ìŠ¹ì¸] [ìˆ˜ì •]            â”‚  â”‚
â”‚  â”‚ ...         â”‚          â”‚                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  ì§„í–‰ë¥ : 12/15 ì™„ë£Œ (ìŠ¹ì¸ 8 | ìˆ˜ì • 3 | ìˆ˜ì‘ì—… 1 | ê²€í† í•„ìš” 3)   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Export ì¡°ê±´

```
Session.is_exportable = true ì¡°ê±´:
â”œâ”€â”€ ëª¨ë“  ì´ë¯¸ì§€ê°€ ìµœì¢… ìƒíƒœì—¬ì•¼ í•¨:
â”‚   â”œâ”€â”€ approved (ìŠ¹ì¸ë¨)
â”‚   â”œâ”€â”€ modified (ìˆ˜ì • í›„ í™•ì •)
â”‚   â””â”€â”€ manual_labeled (ìˆ˜ì‘ì—… ì™„ë£Œ)
â”œâ”€â”€ rejected ì´ë¯¸ì§€ëŠ” ì œì™¸ ì²˜ë¦¬ ë˜ëŠ” ì¬ë¶„ì„ í•„ìš”
â”œâ”€â”€ pending/processed ìƒíƒœ ì´ë¯¸ì§€ 0ê°œ
â””â”€â”€ PM ìµœì¢… ìŠ¹ì¸ ì™„ë£Œ
```

### 4. Human-in-the-Loop ì›Œí¬í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì´ë¯¸ì§€ë³„ Human-in-the-Loop íë¦„                           â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ ì´ë¯¸ì§€  â”‚â”€â”€â”€â”€â–¶â”‚  ë¶„ì„   â”‚â”€â”€â”€â”€â–¶â”‚           ê²€í†  ë‹¨ê³„                  â”‚  â”‚
â”‚   â”‚ ì—…ë¡œë“œ  â”‚     â”‚  ì‹¤í–‰   â”‚     â”‚                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚                                   â”‚  â”‚ ê²°ê³¼ í™•ì¸                    â”‚   â”‚  â”‚
â”‚                                   â”‚  â”‚                             â”‚   â”‚  â”‚
â”‚                                   â”‚  â”‚    ì •í™•í•¨?                   â”‚   â”‚  â”‚
â”‚                                   â”‚  â”‚    â”œâ”€ Yes â”€â”€â–¶ [ìŠ¹ì¸] âœ…      â”‚   â”‚  â”‚
â”‚                                   â”‚  â”‚    â”‚                        â”‚   â”‚  â”‚
â”‚                                   â”‚  â”‚    â””â”€ No                    â”‚   â”‚  â”‚
â”‚                                   â”‚  â”‚        â”œâ”€ ìˆ˜ì • ê°€ëŠ¥ â”€â”€â–¶ [ìˆ˜ì •] âœï¸â”‚  â”‚
â”‚                                   â”‚  â”‚        â”œâ”€ ì¬ë¶„ì„ í•„ìš” â”€â”€â–¶ [ê±°ë¶€] âŒâ”‚ â”‚
â”‚                                   â”‚  â”‚        â””â”€ ìë™ ë¶ˆê°€ â”€â”€â–¶ [ìˆ˜ì‘ì—…] ğŸ·ï¸â”‚ â”‚
â”‚                                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   â€» ëª¨ë“  ì´ë¯¸ì§€ê°€ [ìŠ¹ì¸/ìˆ˜ì •/ìˆ˜ì‘ì—…] ìƒíƒœ = Export ê°€ëŠ¥                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì•¡ì…˜ë³„ ìƒì„¸**:

| ì•¡ì…˜ | ì„¤ëª… | ê²°ê³¼ ìƒíƒœ |
|------|------|----------|
| **ìŠ¹ì¸** | ë¶„ì„ ê²°ê³¼ê°€ ì •í™•í•¨, ìˆ˜ì • ë¶ˆí•„ìš” | `approved` |
| **ìˆ˜ì •** | ë¼ë²¨ ë³€ê²½, bbox ì¡°ì •, ê°’ ìˆ˜ì • ë“± | `modified` |
| **ê±°ë¶€** | ê²°ê³¼ ë¶ˆëŸ‰, ì¬ë¶„ì„ ë˜ëŠ” ì œì™¸ í•„ìš” | `rejected` |
| **ìˆ˜ì‘ì—… ë¼ë²¨ë§** | ìë™ ë¶„ì„ ë¶ˆê°€, ìˆ˜ë™ ì…ë ¥ | `manual_labeled` |

**ìˆ˜ì • ê°€ëŠ¥ í•­ëª©**:
- ê²€ì¶œ ë¼ë²¨ (ì˜ˆ: "valve" â†’ "check_valve")
- Bounding Box ìœ„ì¹˜/í¬ê¸° ì¡°ì •
- OCR ì¸ì‹ ê°’ ìˆ˜ì •
- ì˜¤ê²€ì¶œ ì‚­ì œ
- ë¯¸ê²€ì¶œ í•­ëª© ìˆ˜ë™ ì¶”ê°€

### 5. ê³ ê° ê¶Œí•œ ì œí•œ

```
Exported Session ê³ ê° ê¶Œí•œ:
â”œâ”€â”€ âœ… ìƒˆ ì´ë¯¸ì§€ ì¶”ê°€
â”œâ”€â”€ âœ… ë¶„ì„ ê²°ê³¼ ìˆ˜ì • (ë¼ë²¨, ê°’)
â”œâ”€â”€ âœ… ì˜¤ê²€ì¶œ ì‚­ì œ
â”œâ”€â”€ âœ… ì¬ë¶„ì„ ì‹¤í–‰
â”œâ”€â”€ âœ… Excel/PDF ì¶œë ¥
â”œâ”€â”€ âŒ ì›Œí¬í”Œë¡œìš° ìˆ˜ì •
â”œâ”€â”€ âŒ ëª¨ë¸ ë³€ê²½
â””â”€â”€ âŒ íŒŒë¼ë¯¸í„° ë³€ê²½
```

---

## ë°ì´í„° ëª¨ë¸ (ìŠ¤í‚¤ë§ˆ)

### Template

```python
class Template(BaseModel):
    template_id: str
    name: str                      # "P&ID ì‹¬ë³¼ê²€ì¶œ v2"
    description: Optional[str]
    model_type: str                # "pid_class_aware"
    drawing_type: str              # "pid", "bom", "assembly"
    features: List[str]            # ["symbol_detection", "line_tracing"]
    workflow_data: dict            # ReactFlow nodes/edges
    default_parameters: dict       # ê¸°ë³¸ íŒŒë¼ë¯¸í„°
    created_by: str
    created_at: datetime
    updated_at: datetime
```

### Project

```python
class Project(BaseModel):
    project_id: str
    name: str                      # "íŒŒë‚˜ì‹œì•„ BWMS 2024"
    customer_id: str               # "panasia"
    template_id: str               # Template ì°¸ì¡°
    gt_folder: str                 # "/data/gt/panasia-bwms/"
    customer_config: dict          # { margin, lang, output_format, ... }
    status: str                    # "active", "archived"
    created_at: datetime
    updated_at: datetime
```

### Session

```python
class Session(BaseModel):
    session_id: str
    project_id: str                # Project ì°¸ì¡°
    name: str                      # "BWMS ë„ë©´ ì„¸íŠ¸ 1"
    template_snapshot: dict        # ì‹¤í–‰ ì‹œì  Template ë³µì‚¬ë³¸
    images: List[ImageItem]        # ì²˜ë¦¬ ëŒ€ìƒ ì´ë¯¸ì§€ë“¤
    results: List[ResultItem]      # ì´ë¯¸ì§€ë³„ ë¶„ì„ ê²°ê³¼
    status: str                    # "pending", "running", "completed"
    is_exportable: bool            # Export ê°€ëŠ¥ ì—¬ë¶€
    validation_score: float        # GT ë¹„êµ ì ìˆ˜
    created_at: datetime
    updated_at: datetime

class ImageItem(BaseModel):
    image_id: str
    filename: str
    uploaded_at: datetime

    # ì²˜ë¦¬ ìƒíƒœ
    process_status: str            # "pending", "processing", "processed", "failed"

    # Human-in-the-Loop ê²€í†  ìƒíƒœ â­
    review_status: str             # "pending", "processed", "approved",
                                   # "rejected", "modified", "manual_labeled"
    reviewed_by: Optional[str]     # ê²€í† ì ID
    reviewed_at: Optional[datetime]
    review_comment: Optional[str]  # ê±°ë¶€ ì‚¬ìœ , ìˆ˜ì • ë©”ëª¨ ë“±

class ResultItem(BaseModel):
    image_id: str
    detections: List[Detection]
    ocr_results: List[OcrResult]
    confidence_avg: float
    processed_at: datetime

    # ìˆ˜ì • ì´ë ¥ â­
    edit_history: List[EditRecord] # ìˆ˜ì • ë‚´ì—­
    is_manually_edited: bool       # ìˆ˜ì‘ì—… ì—¬ë¶€
    original_result: Optional[dict] # ì›ë³¸ ê²°ê³¼ ë°±ì—…

class EditRecord(BaseModel):
    edit_id: str
    edited_by: str
    edited_at: datetime
    edit_type: str                 # "label_change", "bbox_adjust", "delete", "add"
    field_name: str                # ìˆ˜ì •ëœ í•„ë“œ
    old_value: Any
    new_value: Any
```

### ExportedSession

```python
class ExportedSession(BaseModel):
    export_id: str
    source_session_id: str         # ì›ë³¸ Session
    source_project_id: str         # ì›ë³¸ Project
    customer_id: str

    # ê³ ì •ëœ ì„¤ì • (ìˆ˜ì • ë¶ˆê°€)
    template_snapshot: dict

    # ê³ ê° ìˆ˜ì • ê°€ëŠ¥ ë°ì´í„°
    images: List[ImageItem]
    results: List[ResultItem]
    customer_edits: List[EditHistory]  # ìˆ˜ì • ì´ë ¥

    # ê¶Œí•œ ì„¤ì •
    capabilities: ExportCapabilities

    exported_at: datetime
    last_used_at: datetime

class ExportCapabilities(BaseModel):
    can_add_images: bool = True
    can_edit_results: bool = True
    can_rerun_analysis: bool = True
    can_export_files: bool = True
    can_modify_workflow: bool = False  # í•­ìƒ False
```

---

## êµ¬í˜„ ìš°ì„ ìˆœìœ„

| Phase | ì‘ì—… | ìƒíƒœ |
|-------|------|------|
| 2A | Template/Project ë°±ì—”ë“œ | âœ… ì™„ë£Œ |
| 2B | Save/Load Template UI | âœ… ì™„ë£Œ |
| **2C** | **Session ë‹¤ì¤‘ ì´ë¯¸ì§€ ì²˜ë¦¬** | â³ ë‹¤ìŒ |
| 2D | Project ê´€ë¦¬ UI | â³ ì˜ˆì • |
| 2E | Export Session ê¸°ëŠ¥ | â³ ì˜ˆì • |
| 2F | ê³ ê°ìš© Human-in-the-Loop UI | â³ ì˜ˆì • |

---

*ì‘ì„±: Claude Code (Opus 4.5)*
*ìµœì¢… ì—…ë°ì´íŠ¸: 2026-01-24*
