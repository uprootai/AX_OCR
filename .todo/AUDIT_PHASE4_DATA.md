# Phase 4: ë°ì´í„° ë° ëª¨ë¸ ì¡°ì‚¬ ê²°ê³¼

> **ì¡°ì‚¬ì¼**: 2026-01-17
> **ì´ ìš©ëŸ‰**: 5.0GB
> **ë””ë ‰í† ë¦¬ ìˆ˜**: 3ê°œ

---

## ğŸ“Š ìš”ì•½

| ë””ë ‰í† ë¦¬ | ìš©ëŸ‰ | íŒì • | ì¡°ì¹˜ |
|----------|------|------|------|
| `offline_models/` | 4.5GB | âœ… ìœ ì§€ | ì˜¤í”„ë¼ì¸ ë°°í¬ìš© í•„ìˆ˜ |
| `data/` | 531MB | âœ… ìœ ì§€ | Neo4j ë°ì´í„° (ìš´ì˜) |
| `samples/` | 644KB | âš ï¸ ê²€í†  | web-ui/public/samplesì™€ ì¤‘ë³µ |

---

## 1. offline_models/ (4.5GB)

### ê¸°ë³¸ ì •ë³´

| í•­ëª© | ê°’ |
|------|-----|
| ê²½ë¡œ | `/home/uproot/ax/poc/offline_models/` |
| ìš©ëŸ‰ | 4.5GB |
| ìƒì„±ì¼ | 2025-12-12 |
| íŒŒì¼ ìˆ˜ | ~50ê°œ |

### êµ¬ì¡°

```
offline_models/
â”œâ”€â”€ trocr/          # 2.5GB - TrOCR í•„ê¸°/ì¸ì‡„ì²´ ì¸ì‹
â”‚   â”œâ”€â”€ trocr-base-handwritten/  # 1.3GB
â”‚   â””â”€â”€ trocr-base-printed/      # 1.3GB
â”œâ”€â”€ surya/          # 1.8GB - Surya OCR (90+ ì–¸ì–´)
â”‚   â””â”€â”€ huggingface/hub/
â”‚       â”œâ”€â”€ surya_det3/     # 147MB
â”‚       â”œâ”€â”€ surya_layout3/  # 147MB
â”‚       â”œâ”€â”€ surya_order/    # 525MB
â”‚       â””â”€â”€ surya_rec/      # 1GB
â”œâ”€â”€ easyocr/        # 110MB - EasyOCR
â”‚   â””â”€â”€ model/
â”‚       â”œâ”€â”€ korean_g2.pth   # 16MB
â”‚       â”œâ”€â”€ english_g2.pth  # 15MB
â”‚       â””â”€â”€ craft_mlt_25k.pth  # 80MB
â”œâ”€â”€ esrgan/         # 64MB - ì´ë¯¸ì§€ ì—…ìŠ¤ì¼€ì¼ë§
â”‚   â””â”€â”€ RealESRGAN_x4plus.pth
â”œâ”€â”€ yolo/           # 24MB - ê°ì²´ ê²€ì¶œ
â”‚   â”œâ”€â”€ yolo11n.pt  # 5.6MB
â”‚   â””â”€â”€ yolo11s.pt  # 19MB
â”œâ”€â”€ paddleocr/      # 4KB (ë¹ˆ ë””ë ‰í† ë¦¬)
â””â”€â”€ doctr/          # 4KB (ë¹ˆ ë””ë ‰í† ë¦¬)
```

### ìš©ë„

- **ëª©ì **: ì¸í„°ë„· ì—†ëŠ” ì˜¨í”„ë ˆë¯¸ìŠ¤/ì—ì–´ê°­ í™˜ê²½ì—ì„œ AI ëª¨ë¸ ì‹¤í–‰
- **ì°¸ì¡°**: `docker-compose.offline.yml`ì—ì„œ ë³¼ë¥¨ ë§ˆìš´íŠ¸
- **í™œì„±í™”**: `TRANSFORMERS_OFFLINE=1`, `HF_HUB_OFFLINE=1` í™˜ê²½ë³€ìˆ˜

### ì°¸ì¡° ì½”ë“œ

```yaml
# docker-compose.offline.yml
- ./offline_models/trocr:/app/offline_models:ro
- ./offline_models/surya:/root/.cache:ro
- ./offline_models/easyocr:/root/.EasyOCR:ro
```

### íŒì •

| í•­ëª© | íŒì • |
|------|------|
| **ê²°ë¡ ** | âœ… ìœ ì§€ |
| **ì‚¬ìœ ** | ì˜¤í”„ë¼ì¸ ë°°í¬ ì‹œ í•„ìˆ˜. ì˜¨ë¼ì¸ í™˜ê²½ì—ì„œëŠ” ì‚¬ìš© ì•ˆí•¨ |
| **ë¹„ê³ ** | paddleocr, doctr ë¹ˆ ë””ë ‰í† ë¦¬ëŠ” placeholder |

### ì •ë¦¬ ê°€ëŠ¥ í•­ëª©

- ì—†ìŒ (ì˜¤í”„ë¼ì¸ ë°°í¬ í•„ìˆ˜)
- ì˜¨ë¼ì¸ ì „ìš© ìš´ì˜ ì‹œ ì „ì²´ ì‚­ì œ ê°€ëŠ¥ (4.5GB ì ˆê°)

---

## 2. data/ (531MB)

### ê¸°ë³¸ ì •ë³´

| í•­ëª© | ê°’ |
|------|-----|
| ê²½ë¡œ | `/home/uproot/ax/poc/data/` |
| ìš©ëŸ‰ | 531MB |
| ìµœì¢… ìˆ˜ì • | 2025-12-26 |
| ì†Œìœ ì | 7474 (neo4j ì»¨í…Œì´ë„ˆ) |

### êµ¬ì¡°

```
data/
â””â”€â”€ neo4j/          # 531MB - Neo4j ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤
    â”œâ”€â”€ data/       # 517MB
    â”‚   â”œâ”€â”€ databases/
    â”‚   â”‚   â”œâ”€â”€ neo4j/    # ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤
    â”‚   â”‚   â””â”€â”€ system/   # ì‹œìŠ¤í…œ ë°ì´í„°ë² ì´ìŠ¤
    â”‚   â””â”€â”€ transactions/ # 258MB x 2 = 516MB
    â”‚       â”œâ”€â”€ neo4j/    # íŠ¸ëœì­ì…˜ ë¡œê·¸
    â”‚       â””â”€â”€ system/
    â”œâ”€â”€ plugins/    # 13MB
    â”œâ”€â”€ logs/       # 1.4MB
    â””â”€â”€ import/     # 4KB
```

### ìš©ë„

- **ëª©ì **: Knowledge API (GraphRAG)ì˜ Neo4j ë°ì´í„° ì €ì¥ì†Œ
- **ì°¸ì¡°**: `docker-compose.yml`ì—ì„œ ë³¼ë¥¨ ë§ˆìš´íŠ¸
- **í¬íŠ¸**: 7474 (HTTP), 7687 (Bolt)

### ì°¸ì¡° ì½”ë“œ

```yaml
# docker-compose.yml
services:
  neo4j:
    volumes:
      - ./data/neo4j/data:/data
      - ./data/neo4j/logs:/logs
      - ./data/neo4j/import:/var/lib/neo4j/import
      - ./data/neo4j/plugins:/plugins
```

### íŒì •

| í•­ëª© | íŒì • |
|------|------|
| **ê²°ë¡ ** | âœ… ìœ ì§€ |
| **ì‚¬ìœ ** | Knowledge API ìš´ì˜ ë°ì´í„°. ì‚­ì œ ì‹œ ì§€ì‹ ê·¸ë˜í”„ ì†ì‹¤ |
| **ë¹„ê³ ** | íŠ¸ëœì­ì…˜ ë¡œê·¸ê°€ ìš©ëŸ‰ì˜ 97% ì°¨ì§€ |

### ì •ë¦¬ ê°€ëŠ¥ í•­ëª©

- `transactions/` ë¡œê·¸ ì •ë¦¬ ê°€ëŠ¥ (~258MB ì ˆê°)
  - Neo4j ì»¨í…Œì´ë„ˆ ì¤‘ì§€ í›„ `CALL dbms.checkpoint()` ì‹¤í–‰
  - ë˜ëŠ” `dbms.tx_log.rotation.retention_policy` ì„¤ì • ì¡°ì •

---

## 3. samples/ (644KB)

### ê¸°ë³¸ ì •ë³´

| í•­ëª© | ê°’ |
|------|-----|
| ê²½ë¡œ | `/home/uproot/ax/poc/samples/` |
| ìš©ëŸ‰ | 644KB |
| ìµœì¢… ìˆ˜ì • | 2024-11-20 |
| íŒŒì¼ ìˆ˜ | 2ê°œ |

### êµ¬ì¡°

```
samples/
â”œâ”€â”€ A12-311197-9 Rev.2 Interm Shaft-Acc_y_1.jpg  # 305KB
â””â”€â”€ S60ME-C INTERM-SHAFT_ëŒ€ ì£¼ì¡°ì „.jpg            # 329KB
```

### ìš©ë„

- **ëª©ì **: í…ŒìŠ¤íŠ¸ìš© ìƒ˜í”Œ ì´ë¯¸ì§€
- **ì°¸ì¡°**: ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€ë¡œ ì‚¬ìš©

### ì¤‘ë³µ ë¶„ì„

| íŒŒì¼ | samples/ | web-ui/public/samples/ |
|------|----------|------------------------|
| S60ME-C INTERM-SHAFT_ëŒ€ ì£¼ì¡°ì „.jpg | âœ… ìˆìŒ | âœ… sample3_s60me_shaft.jpg |
| A12-311197-9 Rev.2 ... | âœ… ìˆìŒ | âœ… sample2_interm_shaft.jpg |

**ê²°ë¡ **: `web-ui/public/samples/`ì™€ ì™„ì „ ì¤‘ë³µ

### ì°¸ì¡° ì½”ë“œ

```python
# test_real_workflow.py
image_path = "/home/uproot/ax/poc/samples/S60ME-C INTERM-SHAFT_ëŒ€ ì£¼ì¡°ì „.jpg"

# test_control_flow.py
TEST_IMAGE = "/home/uproot/ax/poc/samples/A12-311197-9 Rev.2 Interm Shaft-Acc_y_1.jpg"
```

### íŒì •

| í•­ëª© | íŒì • |
|------|------|
| **ê²°ë¡ ** | âš ï¸ ê²€í†  |
| **ì‚¬ìœ ** | web-ui/public/samples/ì™€ ì¤‘ë³µ. ë ˆê±°ì‹œ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ ì°¸ì¡° |
| **ì¡°ì¹˜** | ìŠ¤í¬ë¦½íŠ¸ë¥¼ web-ui/public/samples/ ê²½ë¡œë¡œ ìˆ˜ì • í›„ ì‚­ì œ ê°€ëŠ¥ |

### ì •ë¦¬ ê°€ëŠ¥ í•­ëª©

- ì „ì²´ ì‚­ì œ ê°€ëŠ¥ (644KB ì ˆê°)
- ë‹¨, ì°¸ì¡°í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì • í•„ìš”:
  - `scripts/tests/test_real_workflow.py`
  - `test_control_flow.py`
  - `test_blueprintflow_scenarios.py`

---

## ğŸ“ˆ Phase 4 ìµœì¢… ìš”ì•½

### ìš©ëŸ‰ ë¶„ì„

| ìƒíƒœ | ìš©ëŸ‰ | ë¹„ìœ¨ |
|------|------|------|
| âœ… í•„ìˆ˜ ìœ ì§€ | 5.0GB | 99.9% |
| âš ï¸ ê²€í†  (ì¤‘ë³µ) | 644KB | 0.1% |
| ğŸ—‘ï¸ ì‚­ì œ ê°€ëŠ¥ | 0 | 0% |

### ì •ë¦¬ ê°€ëŠ¥ ìš©ëŸ‰

| í•­ëª© | ìš©ëŸ‰ | ì¡°ê±´ |
|------|------|------|
| samples/ | 644KB | ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì • í›„ |
| neo4j transactions | ~258MB | DB ì •ë¦¬ ëª…ë ¹ ì‹¤í–‰ ì‹œ |
| offline_models/ | 4.5GB | ì˜¨ë¼ì¸ ì „ìš© ìš´ì˜ ì‹œ |

### ê¶Œì¥ì‚¬í•­

1. **ì¦‰ì‹œ ê°€ëŠ¥**: `samples/` ì‚­ì œ (ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ ìˆ˜ì • í›„)
2. **ì„ íƒì **: Neo4j íŠ¸ëœì­ì…˜ ë¡œê·¸ ì •ë¦¬
3. **ìš´ì˜ ê²°ì •**: offline_models í•„ìš” ì—¬ë¶€ ê²°ì •

---

**ë‹¤ìŒ**: Phase 5 (ì‹¤í—˜ ë° ì„ì‹œ) ì¡°ì‚¬
