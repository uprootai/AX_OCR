# 2.3 보유 기술 현황

## 1. 멀티 OCR 기술 (Multi-OCR Technology)

### 1-1. 도면 OCR의 기술적 과제

기술 도면은 일반 문서와 달리 **고유한 특성과 과제**를 가짐.

**[실제 이미지]**
*파일: `refer/Mermaid_1.1_기술도면의_특성과_과제.png`*
*설명: 기술 도면의 4가지 핵심 특성 (복잡한 레이아웃, 특수 기호, 다중 부와 단면, 정밀 치수)*

**당사 보유 기술로 해결**:

○ **복잡한 레이아웃**: EDGNet (GraphSAGE) 기반 그래프 신경망으로 도면 요소 자동 분류
  - 윤곽선(Contours), 텍스트(Text), 치수(Dimensions) 3개 영역 분리
  - 높은 세그멘테이션 정확도 달성

○ **특수 기호 및 표기**: eDOCr v1/v2에서 14개 GD&T 기하공차 심볼 인식 기능 보유
  - 형상 공차: ⏤ (평면도), ○ (진원도), ⌭ (원통도)
  - 자세 공차: ∥ (평행도), ⊥ (직각도), ∠ (경사도)
  - 위치 공차: ⊕ (동심도/동축도), ⌖ (위치도)
  - 특수 기호: Ø (직경), ± (공차), R (반지름) 등

○ **산업 부품 검출**: DrawingBOM 프로젝트에서 YOLO 기반 27개 전기/전자 부품 심볼 검출 검증
  - Circuit Breaker, Transformer, Motor, Generator, PLC, Relay, Contactor 등
  - YOLOv11/v8 앙상블 시스템 적용

○ **다중 부와 단면**: DrawingBOM에서 다중 페이지 PDF 처리 및 YOLO 기반 객체 검출 검증
  - 페이지 자동 분할 및 병렬 처리
  - 복잡한 도면 구조 처리 경험

○ **정밀 치수 정보**: eDOCr v2 테이블 OCR + JSON 구조화 출력 기능 보유
  - 부품 리스트(BOM), 재질표, 사양표 자동 추출
  - JSON 형식 구조화 데이터 생성

이러한 특성으로 인해 **일반 OCR (Tesseract, EasyOCR, PaddleOCR)**로는 한계가 있으며, **도면 특화 OCR (eDOCr)**이 필수적임.

**[실제 이미지]**
*파일: `refer/2.1 주요 오픈소스 OCR 시스템.JPG`*
*설명: OCR 파이프라인 비교*

○ **전처리 파이프라인**: 전처리 → 텍스트 검출 → 문자 인식 → 후처리
○ **도면 특화 OCR (eDOCr)**: 도면에 최적화된 단일 파이프라인
○ **범용 OCR (Tesseract, EasyOCR, PaddleOCR)**: 일반 문서 중심

### 1-2. 이중 OCR 엔진 운영

당사는 도면 분석의 정확도를 극대화하기 위해 **이중 OCR 엔진 시스템**을 구축하여 운영 중임.

#### 1-2-1. eDOCr v1 엔진

○ **기술 스택**: Keras 2.x 기반 CRNN (Convolutional Recurrent Neural Network)
○ **특징**:
  - 빠른 처리 속도 (실시간 처리 가능)
  - 안정적인 치수 인식
  - 기본 GD&T 심볼 인식
○ **활용**: 실시간 처리가 필요한 일반 도면 분석

#### 1-2-2. eDOCr v2 엔진

○ **기술 스택**: Keras 3.x 기반 개선형 CRNN
○ **특징**:
  - 고급 특징 추출 (테이블 OCR 지원)
  - 향상된 정확도
  - 복잡한 도면 처리 최적화
○ **활용**: 고정밀도가 요구되는 복잡 도면 분석

#### 1-2-3. 추출 가능 정보

○ **치수 정보**:
  - 선형 치수 (Linear Dimensions)
  - 직경 (Ø), 반지름 (R)
  - 공차 범위 (±)
  - 각도 및 호 길이

○ **GD&T (기하공차)**: 14개 기하공차 심볼
  - 형상 공차: ⏤ (평면도), ○ (진원도), ⌭ (원통도)
  - 자세 공차: ∥ (평행도), ⊥ (직각도), ∠ (경사도)
  - 위치 공차: ⊕ (동심도/동축도), ⌖ (위치도)
  - 흔들림 공차: ↗ (원형 흔들림), ⌾ (전체 흔들림)

○ **메타데이터**:
  - 도면 정보: 도면 번호, 개정 번호, 제목
  - 재질 정보: 재질명, 재질 코드
  - 주석 및 비고

○ **테이블 정보** (v2 전용):
  - 부품 리스트 (BOM - Bill of Materials)
  - 재질표
  - 사양표 및 공차 테이블

**[실제 이미지]**
*파일: `refer/Mermaid_2.2_eDOCr_파이프라인.png`*
*설명: eDOCr 파이프라인 아키텍처 - 3개 전문화된 파이프라인 (정보 블록/치수/GDT) → 통합 레이어 → JSON 출력*

**당사 운영 현황** (AX 실증산단 프로젝트):
○ **eDOCr v1** (Port 5001): Keras 2.x, 빠른 처리, 안정성 우선
○ **eDOCr v2** (Port 5002): Keras 3.x, 테이블 OCR 지원, 고정밀도 처리
○ **이중 배포**: 고객 요구사항에 따라 v1/v2 선택 가능
○ **Microservices**: 독립 확장 및 배포 (Docker 컨테이너)
○ **실제 성과**: 치수/GD&T/텍스트/테이블 추출, JSON 구조화 출력

이 아키텍처를 통해 도면의 각 요소를 **전문화된 파이프라인**으로 처리하여 정확도를 극대화함.

**[이미지 플레이스홀더]**
*설명: eDOCr v1/v2 이중 엔진 비교 다이어그램*
*내용: v1 (Keras 2.x, 빠른 처리) vs v2 (Keras 3.x, 테이블 OCR 지원) 병렬 배포 구조*

**[이미지 플레이스홀더]**
*설명: OCR 결과 시각화 스크린샷*
*내용: 도면 이미지에 바운딩 박스로 표시된 치수, GD&T, 텍스트 인식 결과*

---

## 2. RAG (Retrieval-Augmented Generation) 시스템

### 2-1. 고성능 벡터 검색 시스템

당사는 **FAISS 기반 벡터 검색 시스템**을 구축하여 대규모 텍스트 데이터베이스에서 유사 사례를 빠르게 검색함.

**실제 적용 사례 (NLP 공수산정 프로젝트)**:
○ **데이터**: 고객의 엑셀 개발 요청 텍스트 (1,000+ 건)
○ **목적**: 유사한 과거 개발 사례를 검색하여 공수 산정 및 코드 추천
○ **성과**: 빠른 검색 속도 및 높은 정확도 달성

#### 2-1-1. 핵심 기술

○ **벡터 데이터베이스**: Facebook AI Similarity Search (FAISS)
○ **임베딩 모델**: OpenAI text-embedding-3-large
○ **검색 방식**:
  - 코사인 유사도 기반 k-NN 검색
  - 유사도 임계값 조정 (최적값: 0.5)
  - 다단계 필터링 (카테고리 → 세부 특징)

#### 2-1-2. 성능 지표

○ **검색 속도**: 대규모 문서에서 빠른 검색 (밀리초 단위)
○ **정확도**: 높은 관련 문서 재현율
○ **확장성**: 대규모 문서 규모까지 확장 가능

**향후 적용 계획**:
○ 도면 메타데이터(도면 번호, 재질, 부품명 등) 임베딩 및 검색
○ 텍스트 + 이미지 멀티모달 임베딩 (VLM 통합 시)

### 2-2. BGE 리랭커를 활용한 검색 정확도 향상

RAG 시스템의 검색 결과를 **재정렬(Reranking)**하여 정확도를 높임.

#### 2-2-1. 구현 내용

○ **모델**: SentenceTransformers CrossEncoder (BGE Reranker)
○ **효과**: 초기 검색 결과를 재정렬하여 정밀도 향상
○ **처리 흐름**:
  1) FAISS로 초기 후보 검색 (Top-20)
  2) BGE 리랭커로 관련성 재평가
  3) 최종 Top-5 결과 반환

**실제 적용 경험 (NLP 공수산정 프로젝트)**:
○ 고객 요구사항 텍스트를 입력하면 가장 유사한 과거 사례 5개 반환
○ BGE 리랭킹으로 관련성 정밀도 향상

**[이미지 플레이스홀더]**
*설명: RAG 시스템 아키텍처 다이어그램*
*내용: FAISS 벡터 검색 → BGE 리랭킹 → LLM 통합 플로우*

### 2-3. 다단계 임베딩 분류 시스템

복잡한 텍스트 요구사항을 정확히 분류하기 위해 **3단계 임베딩 시스템**을 개발함.

**실제 적용 사례 (NLP 공수산정 프로젝트)**:
○ **입력**: 고객의 엑셀 개발 요구사항 (예: "판매 데이터를 분석해서 월별 그래프 생성")
○ **출력**: 카테고리 분류 (예: "데이터 분석 > 시각화 > 그래프") + 핵심 키워드 추출

#### 2-3-1. 3단계 분류 프로세스

1) **1단계**: 대분류 그룹 결정 (관리/행정, 영업/마케팅, 데이터 분석 등)
2) **2단계**: 세부 카테고리 분류 (각 대분류 내에서)
3) **3단계**: 특수 케이스 검증 (혼동되는 유형 재확인)

**도면 분석 과제 적용 방향**:
○ 도면 유형 분류 (기계/전기/건축 도면)
○ 가공 방법 분류 (선반/밀링/용접 등)
○ 재질 카테고리 분류

#### 2-3-2. 성과

○ **분류 정확도**: 높은 정확도 달성 (목표 초과 달성) - NLP 프로젝트 검증
○ **처리 시간**: 빠른 처리 (밀리초 단위)
○ **학습 데이터**: 충분한 레이블링된 요구사항 데이터 확보

**[이미지 플레이스홀더]**
*설명: 다단계 임베딩 분류 시스템 성능 그래프*
*내용: 정확도 비교 (단일 모델 vs 다단계) 막대 그래프*

---

## 3. 그래프 신경망 기반 도면 세그멘테이션

### 3-1. EDGNet (Engineering Drawing Graph Network)

**GraphSAGE 기반 그래프 신경망**을 활용하여 도면 요소를 정밀하게 분류함.

#### 3-1-1. 기술적 특징

○ **모델 구조**: GraphSAGE (Graph Sample and Aggregate)
○ **입력**: 도면 이미지 → 그래프 구조 변환
○ **출력**: 노드별 분류 (윤곽선/텍스트/치수)

#### 3-1-2. 분류 카테고리

○ **Contours (윤곽선)**: 부품의 형상 정보
○ **Text (텍스트)**: 주석, 라벨, 설명
○ **Dimensions (치수)**: 치수선, 치수 값, 공차

#### 3-1-3. 성능 지표

○ **분류 정확도**: 높은 정확도 달성
○ **처리 속도**: 빠른 처리 속도
○ **그래프 구조**: 도면 복잡도에 따라 적절한 노드 및 엣지 생성

### 3-2. 벡터화 기능

세그멘테이션 결과를 **베지어 곡선**으로 변환하여 CAD 소프트웨어와의 호환성을 제공함.

○ **변환 방식**: 래스터 이미지 → 벡터 곡선
○ **곡선 타입**: 3차 베지어 곡선
○ **정밀도**: 픽셀 단위 오차 < 2px

**[이미지 플레이스홀더]**
*설명: EDGNet 세그멘테이션 결과 시각화*
*내용: 원본 도면 vs 세그멘테이션 결과 (색상별 분류 표시)*

**[이미지 플레이스홀더]**
*설명: 그래프 구조 시각화*
*내용: 도면에서 추출한 그래프의 노드와 엣지 구조*

---

## 4. YOLO 기반 객체 검출 기술

### 4-1. YOLOv11/v8 앙상블 시스템

**산업 부품 자동 검출**을 위해 최신 YOLO 모델을 활용함.

#### 4-1-1. 검출 대상

○ **지원 클래스**: 27개 전기/전자 산업 부품 (DrawingBOM 프로젝트 검증)

○ **부품 카테고리**:
  - 전원 및 배전 장치: Circuit Breaker, Disconnect Switch, Load Switch, Transformer, Motor, Generator, Battery
  - 제어 및 보호 장치: PLC, Relay, Contactor, Fuse, Current Transformer, Ground Fault Indicator
  - 연결 및 배선 부품: Busbar, Cable, Terminal Block, Junction Box
  - 조작 및 표시 장치: Push Button, Indicator Lamp, Buzzer
  - 기타 장비: Surge Arrester, Capacitor Bank, Reactor, Voltage Transformer, Switchgear, Control Panel

#### 4-1-2. 앙상블 방식

○ **Voting 방식**: 여러 모델의 검출 결과를 투표로 결정
○ **Weighted 방식**: 모델별 신뢰도를 가중치로 적용
○ **최종 정확도**: 높은 정확도 달성 (테스트 데이터셋 기준)

#### 4-1-3. 성능 최적화

○ **GPU 가속**: CUDA 지원으로 처리 속도 4배 향상
○ **배치 처리**: 다중 페이지 PDF 자동 분할 및 병렬 처리
○ **해상도 지원**: 최대 4K (4096x4096)

**[이미지 플레이스홀더]**
*설명: YOLO 검출 결과 예시*
*내용: 전기 도면에서 27개 부품 클래스가 바운딩 박스로 표시된 스크린샷*

**[이미지 플레이스홀더]**
*설명: 27개 부품 클래스 예시 이미지*
*내용: 각 클래스별 대표 이미지 갤러리*

---

## 5. LLM 통합 및 자연어 처리

### 5-1. OpenAI GPT 통합

**대규모 언어 모델(LLM)**을 활용하여 도면 분석 결과를 자연어로 해석함.

#### 5-1-1. 활용 분야

○ **요구사항 분류**: 고객 요구사항 자동 카테고리 분류
○ **키워드 추출**: 핵심 키워드 자동 추출 및 순위화
○ **견적 설명 생성**: 분석 결과 기반 견적서 자동 작성
○ **오류 검증**: 추출 결과의 논리적 일관성 검증

#### 5-1-2. 구현 내용

○ **모델**: GPT-4o-mini, GPT-4
○ **프롬프트 엔지니어링**: 도메인 특화 프롬프트 템플릿 개발
○ **Temperature 최적화**: 정확도 최대화를 위한 매개변수 튜닝 (최적값: 0.1)

### 5-2. 키워드 추출 시스템

**RAG + LLM 파이프라인**을 통해 핵심 키워드를 자동 추출함.

#### 5-2-1. 성능 지표

○ **정밀도(Precision)**: 높은 정밀도 달성
○ **재현율(Recall)**: 높은 재현율 달성
○ **F1 Score**: 목표 달성

#### 5-2-2. 프로세스

1) 유사 사례 검색 (FAISS)
2) 검색 결과 재정렬 (BGE Reranker)
3) LLM 기반 키워드 추출 (GPT)
4) 빈도 및 관련성 기반 순위화

**[이미지 플레이스홀더]**
*설명: 키워드 추출 결과 예시*
*내용: 입력 요구사항 → 추출된 키워드 목록 → 신뢰도 점수*

### 5-3. VLM (Vision Language Model) 통합 및 시각적 이해 (개발 진행 중)

당사는 **VLM을 활용한 도면의 맥락적 이해 시스템**을 개발하여, 기존 OCR의 한계를 극복하고 도면 분석의 정확도를 향상시킬 계획임.

#### 5-3-1. VLM의 필요성

**오픈소스 OCR의 근본적 한계**

기존 OCR 기술은 다음과 같은 **3가지 근본적 한계**를 가짐:

**[실제 이미지]**
*파일: `refer/3.1 근본적 한계.JPG`*
*설명: 오픈소스 OCR의 3가지 근본적 한계*

1) **도면 이해 부족**
   - 엔지니어링 컨텍스트 미인식
   - 표준 규격 지식 없음
   - 공간적 관계 파악 불가

2) **기술적 제약**
   - 저해상도 처리 미흡
   - 특수 기호 학습 부족
   - 다양한 텍스트 처리 한계

3) **통합 부재**
   - 개별 도구 산재
   - 일관된 파이프라인 없음
   - 도메인 지식 미적용

**VLM을 통한 해결**:

○ 도면을 "이미지"로 이해하여 **시각적 관계 파악**
○ 자연어로 질문하고 답변 받는 **대화형 분석**
○ 멀티모달(이미지 + 텍스트) **통합 처리**
○ **맥락 기반** 오류 검증 및 보완
○ **엔지니어링 도메인 지식** 활용

#### 5-3-2. 활용 분야

**5-3-2-1. 도면 맥락 이해 및 관계 분석**

VLM을 활용하여 도면의 **시각적 맥락**을 이해함.

○ **치수-형상 연결**: "이 치수가 어느 부분의 크기를 나타내는가?"
○ **GD&T 적용 대상**: "평행도 공차가 어느 면에 적용되는가?"
○ **참조 데이터**: "A 데이터는 어느 면을 기준으로 하는가?"
○ **부품 간 관계**: "어떤 부품들이 조립 관계인가?"

**구현 방식**:

**[실제 이미지]**
*파일: `refer/Mermaid_VLM_구현방식.png`*
*설명: VLM 분석 파이프라인 - 도면 이미지 + OCR 결과 → VLM 분석 → 질의응답 → OCR 결과 매칭*

**5-3-2-2. 누락 정보 검증 및 보완**

VLM이 도면을 **전체적으로 분석**하여 누락된 정보를 감지함.

○ **누락된 치수 감지**: "이 구멍의 직경 치수가 표시되지 않았음"
○ **GD&T 불일치**: "평행도 공차가 있지만 기준 데이터가 없음"
○ **재질 정보 누락**: "재질 표기가 정보란에 없음"
○ **중요 주석 누락**: "용접 기호는 있지만 용접 방법이 명시되지 않았음"

**프로세스**:

1) OCR로 초기 추출 (치수, GD&T, 텍스트)
2) VLM으로 도면 전체 분석
3) 도면에 있지만 OCR이 놓친 정보 탐지
4) 논리적으로 있어야 하는데 누락된 정보 지적
5) 사용자에게 확인 요청 또는 재처리

**5-3-2-3. 멀티모달 RAG 시스템**

기존 텍스트 기반 RAG에 **이미지 이해를 추가**한 멀티모달 RAG를 구축함.

**시스템 구조**:

**[실제 이미지]**
*파일: `refer/Mermaid_VLM_멀티모달_RAG.png`*
*설명: VLM 기반 멀티모달 RAG 시스템 - 사용자 질문 → 텍스트+이미지 임베딩 → FAISS 검색 → VLM 재분석 → 견적 생성*

**장점**:

○ 텍스트 메타데이터만으로 찾기 어려운 **시각적으로 유사한 도면** 검색
○ "이 부품과 비슷한 형상" 같은 애매한 질문 처리 가능
○ 이미지 유사도 + 텍스트 유사도 결합으로 정확도 향상

**5-3-2-4. 자연어 기반 견적 설명 생성**

VLM이 분석 결과를 **자연어로 설명**하여 사용자 이해도를 높임.

**생성 예시**:
> "이 도면은 **플랜지형 연결부품**으로, 외경 200mm, 내경 100mm의 원형 형상임.
>
> **주요 특징**:
> ○ 8개의 M12 볼트 홀 (PCD 160mm)
> ○ 평면도 공차 0.05mm (A 데이터 기준)
> ○ 재질: SUS304 스테인리스 스틸
>
> **제조 난이도**: 중간
> ○ 정밀 가공 필요 (평면도 공차)
> ○ 일반적인 선반/밀링 가공 가능
>
> **예상 견적**: 150,000원 ~ 200,000원
> ○ 재료비: 50,000원
> ○ 가공비: 80,000원
> ○ 표면처리비: 20,000원"

이러한 설명은 **고객에게 전달하는 견적서**에 포함되어 투명성과 신뢰도를 높임.

**5-3-2-5. 도면 품질 평가 및 이상 감지**

VLM이 도면의 **완성도와 정확성**을 자동으로 평가함.

**평가 항목**:

○ **완성도**: 필수 정보 누락 여부 (치수, 재질, 공차 등)
○ **일관성**: 치수 간 논리적 일관성 (전체 길이 = 부분 길이의 합)
○ **표준 준수**: KS, ISO 등 도면 표준 준수 여부
○ **제조 가능성**: 가공 불가능한 형상/공차 지적

**평가 결과 예시**:
```
도면 품질 평가 결과
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✅ 완성도: 95/100
  ○ 모든 필수 치수 표기됨
  ○ 재질 정보 명확
  ⚠️  표면 조도 일부 미표기

✅ 일관성: 100/100
  ○ 치수 간 모순 없음
  ○ GD&T 기준면 명확

⚠️  표준 준수: 80/100
  ○ KS B ISO 1101 기본 준수
  ⚠️  치수 허용오차 표기 방식 비표준

⚠️  제조 가능성: 85/100
  ○ 대부분 일반 가공 가능
  ⚠️  내부 모서리 R 값이 작아 공구 접근 어려움
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
종합 점수: 90/100 (우수)
```

#### 5-3-3. 개발 계획

**현재 상태**: 개발 진행 중 (기술 로드맵)

**Phase 1** (계획):
○ GPT-4V 기반 VLM API 연동
○ 기본 도면 이해 및 질의응답
○ OCR 결과 검증 기능

**Phase 2** (계획):
○ 멀티모달 RAG 시스템 구축
○ 이미지 임베딩 + 텍스트 임베딩 통합
○ 유사 도면 검색 고도화

**Phase 3** (계획):
○ 자동 견적 설명 생성
○ 도면 품질 자동 평가
○ 누락 정보 능동적 감지

#### 5-3-4. 기대 효과

VLM 기술 구현 시 다음과 같은 효과를 기대함:

**정량적 효과 (목표)**:
○ 치수 인식 재현율 향상
○ GD&T 인식 재현율 향상
○ 전체 F1 Score 향상
○ 누락 정보 감지율 향상

**정성적 효과 (목표)**:
○ 도면 분석 신뢰도 향상
○ 사용자 친화적 자연어 설명 제공
○ 제조 가능성 사전 검증 지원
○ 고객 만족도 향상

#### 5-3-5. 검토 중인 기술 스택

**VLM 모델 (후보)**:
○ GPT-4V (GPT-4 Vision)
○ Claude 3 Vision
○ Google Gemini Pro Vision
○ 앙상블 방식 검토

**계획 중인 통합 방식**:
○ FastAPI 기반 VLM API 서비스
○ Gateway API에 통합 (기존 OCR + VLM)
○ 멀티모달 임베딩 (CLIP, OpenCLIP)

**필요 인프라**:
○ Docker 컨테이너화
○ GPU 가속 지원
○ 멀티모달 벡터 DB (Qdrant, Weaviate 등)

**[이미지 플레이스홀더]**
*설명: VLM 통합 아키텍처 다이어그램*
*내용: 도면 이미지 → VLM 분석 → OCR 결과 보완 → 견적 생성 플로우*

**[이미지 플레이스홀더]**
*설명: VLM 도면 분석 예시*
*내용: 도면 이미지 + VLM의 자연어 설명 + 감지된 요소 하이라이트*

**[이미지 플레이스홀더]**
*설명: 멀티모달 RAG 검색 결과*
*내용: 질문 도면 vs 검색된 유사 도면 (시각적 유사도 점수 표시)*

---

## 6. Microservices 아키텍처 및 시스템 통합

### 6-1. 독립적 서비스 구성

**마이크로서비스 패턴**을 적용하여 확장 가능하고 유지보수가 용이한 시스템을 구축함.

#### 6-1-1. 서비스 구성

1) **eDOCr2 API** (Port 5001, 5002): OCR 처리
2) **EDGNet API** (Port 5012): 세그멘테이션
3) **Skin Model API** (Port 5003): 공차 분석
4) **Gateway API** (Port 8000): 오케스트레이션
5) **Web UI** (Port 5173): 사용자 인터페이스

#### 6-1-2. 기술 스택

○ **Backend**: FastAPI (Python)
○ **Frontend**: React 19 + TypeScript + Vite
○ **상태 관리**: Zustand
○ **데이터 페칭**: TanStack Query (React Query)
○ **스타일링**: Tailwind CSS

### 6-2. Docker 기반 컨테이너화

모든 서비스를 **Docker 컨테이너**로 패키징하여 이식성과 확장성을 확보함.

#### 6-2-1. 특징

○ **독립적 배포**: 각 서비스 개별 배포 및 업데이트
○ **볼륨 마운트**: 모델 파일 공유 및 데이터 영속성
○ **Health Check**: 자동 상태 모니터링 및 재시작
○ **로드 밸런싱**: Docker Compose를 통한 스케일링

### 6-3. RESTful API 설계

표준화된 **RESTful API**를 통해 외부 시스템과의 통합을 지원함.

#### 6-3-1. API 엔드포인트 예시

```
POST /api/v1/ocr          - OCR 처리
POST /api/v2/ocr          - OCR v2 처리 (테이블 지원)
POST /api/v1/segment      - 세그멘테이션
POST /api/v1/vectorize    - 벡터화
POST /api/v1/analyze      - 공차 분석
POST /api/v1/process      - 통합 파이프라인
GET  /api/v1/health       - 서비스 상태 확인
```

#### 6-3-2. CORS 설정

○ 로컬 개발 및 외부 연동 지원
○ 허용 도메인 설정 가능
○ 인증/인가 메커니즘 적용 가능

**[이미지 플레이스홀더]**
*설명: 마이크로서비스 아키텍처 다이어그램*
*내용: 5개 서비스 간 통신 구조, API Gateway 패턴, 데이터 플로우*

**[이미지 플레이스홀더]**
*설명: Docker 컨테이너 구성도*
*내용: Docker Compose 서비스 맵, 볼륨 마운트, 포트 매핑*

---

## 7. 웹 기반 사용자 인터페이스

### 7-1. React 기반 대화형 UI

**React 19**를 활용하여 직관적이고 반응성 높은 웹 인터페이스를 제공함.

#### 7-1-1. 주요 기능

○ **파일 업로드**: 드래그 앤 드롭 지원, 다중 형식 (PDF, JPG, PNG)
○ **실시간 시각화**: OCR/세그멘테이션 결과 즉시 표시
○ **결과 검증**: 검출된 항목 승인/거부/수정 기능
○ **BOM 생성**: Excel/PDF 자동 다운로드
○ **API 모니터링**: 실시간 서비스 상태 및 성능 추적

### 7-2. Streamlit 기반 프로토타입 UI

빠른 프로토타이핑을 위해 **Streamlit** 기반 UI도 제공함.

#### 7-2-1. 특징

○ **빠른 개발**: 최소 코드로 기능 구현
○ **대화형 위젯**: 슬라이더, 체크박스, 드롭다운 등
○ **시각화 통합**: Matplotlib, Plotly 차트 즉시 표시
○ **배치 처리**: 다중 파일 업로드 및 처리

**[이미지 플레이스홀더]**
*설명: React Web UI 메인 대시보드*
*내용: 도면 업로드, OCR 결과, 세그멘테이션, 견적 생성 화면*

**[이미지 플레이스홀더]**
*설명: API 모니터링 대시보드*
*내용: 서비스 Health 상태, 응답 시간, 성공률 그래프*

---

## 8. 데이터 처리 및 전처리 기술

### 8-1. 다중 형식 지원

다양한 입력 형식을 처리할 수 있는 **전처리 파이프라인**을 구축함.

#### 8-1-1. 지원 형식

○ **이미지**: JPG, PNG, JPEG (최대 4K 해상도)
○ **문서**: PDF (다중 페이지 지원)
○ **CAD**: DXF, DWG (변환 후 처리)

#### 8-1-2. 고도화된 전처리 파이프라인

**[실제 이미지]**
*파일: `refer/Mermaid_4.2.1_전처리_고도화.png`*
*설명: 6단계 딥러닝 전처리 파이프라인 - 원본 → ESRGAN 4x → CLAHE → Morphology → U-Net → OCR 최적화*

당사는 **딥러닝 기반 전처리 파이프라인**을 구축하여 도면 품질을 획기적으로 개선함:

**당사 실제 적용 현황**:
○ **DrawingBOM 프로젝트**: 전처리를 통한 정확도 대폭 향상 달성
○ **AX 실증산단**: EDGNet (GraphSAGE + U-Net) 세그멘테이션 높은 정확도 달성
○ **처리 속도**: GPU 환경에서 빠른 처리, CPU 환경에서도 안정적 처리
○ **지원 해상도**: 최대 4K (4096x4096)

**6단계 파이프라인 상세**:
1) **원본 도면**: 스캔된 저화질 이미지 입력
2) **해상도 향상 (ESRGAN 4x)**: Super-Resolution GAN으로 해상도 4배 향상
3) **적응형 대비 개선 (CLAHE)**: Contrast Limited Adaptive Histogram Equalization
4) **노이즈 제거 (Morphology)**: 형태학적 연산으로 노이즈 제거
5) **영역 분할 (U-Net)**: 딥러닝 기반 의미론적 분할 (Semantic Segmentation)
6) **전처리 완료**: OCR 입력에 최적화된 고품질 이미지

#### 8-1-3. 전통적 전처리 단계 (기본)

1) **형식 변환**: PDF → 고해상도 이미지 (pdf2image)
2) **노이즈 제거**: Gaussian Blur, Bilateral Filter
3) **대비 향상**: CLAHE
4) **이진화**: Otsu's Method, Adaptive Thresholding
5) **크기 정규화**: 4K → 최적 해상도 리사이징

### 8-2. PaddleOCR 통합

**PaddleOCR**을 보조 엔진으로 활용하여 텍스트 인식을 보완함.

#### 8-2-1. 활용 분야

○ 도면 외곽의 정보 블록 (제목란, 주석)
○ 테이블 내부 텍스트
○ 한글/영문 혼합 텍스트

**[이미지 플레이스홀더]**
*설명: 전처리 Before/After 비교*
*내용: 원본 도면 → 노이즈 제거 → 대비 향상 → 이진화 결과*

---

## 9. 자동화 및 평가 시스템

### 9-1. 자동 평가 파이프라인

모델 성능을 **자동으로 평가**하고 개선 방향을 제안하는 시스템을 구축함.

#### 9-1-1. 평가 지표

○ **정밀도(Precision)**: 올바르게 인식한 비율
○ **재현율(Recall)**: 전체 대상 중 인식한 비율
○ **F1 Score**: 정밀도와 재현율의 조화 평균
○ **mAP (mean Average Precision)**: 객체 검출 성능

#### 9-1-2. 자동 보고서 생성

○ 개별 테스트 케이스별 상세 보고서
○ GPT-4o-mini 기반 분석 및 개선 제안
○ Confusion Matrix, PR Curve 자동 생성

### 9-2. 지속적 학습 및 개선

**MLOps 파이프라인**을 통해 모델을 지속적으로 개선함.

#### 9-2-1. 프로세스

1) 신규 데이터 수집 및 라벨링
2) 모델 재학습
3) A/B 테스트 (기존 vs 신규 모델)
4) 성능 개선 시 자동 배포

**[이미지 플레이스홀더]**
*설명: 자동 평가 보고서 예시*
*내용: Precision/Recall 그래프, Confusion Matrix, 오류 사례 분석*

---

## 10. 성능 최적화 및 확장성

### 10-1. 처리 성능

#### 10-1-1. 현재 성능

○ **단일 도면 OCR**: CPU 환경에서 안정적 처리, GPU 환경에서 빠른 처리
○ **세그멘테이션**: 빠른 처리 속도
○ **전체 파이프라인**: CPU 환경에서도 실용적인 처리 시간

#### 10-1-2. 최적화 기법

○ **배치 처리**: 다중 도면 동시 처리
○ **캐싱**: 모델 로딩 결과 재사용
○ **멀티스레딩**: I/O 작업 병렬화
○ **GPU 가속**: CUDA 활용 시 4배 속도 향상

### 10-2. 확장성

#### 10-2-1. 수평 확장

○ Docker Swarm/Kubernetes를 통한 컨테이너 오케스트레이션
○ 로드 밸런서 연동
○ Auto-scaling 정책 적용

#### 10-2-2. 수직 확장

○ GPU 메모리 최적화 (Mixed Precision Training)
○ 모델 경량화 (Quantization, Pruning)

**[이미지 플레이스홀더]**
*설명: 성능 벤치마크 그래프*
*내용: CPU vs GPU 처리 시간 비교, 배치 크기별 처리량*

---

## 요약

당사는 **멀티 OCR**, **RAG 시스템**, **그래프 신경망**, **YOLO 객체 검출**, **LLM 통합** 등 최신 AI 기술을 활용하여 도면 기반 자동 견적 시스템을 구축할 수 있는 **검증된 기술력**을 보유함.

### 핵심 역량

1. ✅ **멀티 OCR 기술**: eDOCr v1/v2 이중 엔진 운영
2. ✅ **RAG 시스템**: FAISS + BGE 리랭커 기반 고성능 검색
3. ✅ **그래프 신경망**: EDGNet 세그멘테이션으로 높은 정확도 달성
4. ✅ **YOLO 객체 검출**: 27개 산업 부품 검출 (DrawingBOM 프로젝트 검증)
5. ✅ **LLM 통합**: OpenAI GPT 기반 자연어 처리 (NLP 공수산정 프로젝트 적용)
6. ✅ **Microservices 아키텍처**: 확장 가능한 시스템 설계
7. ✅ **웹 기반 UI**: React/Streamlit 기반 직관적 인터페이스
8. ✅ **자동화 파이프라인**: 평가 및 지속적 개선 시스템

### 정량적 성과

| 기술 분야 | 달성 현황 |
|----------|---------|
| NLP 분류 정확도 | 목표 달성 ✅ (NLP 공수산정 프로젝트) |
| 키워드 추출 정밀도 | 목표 달성 ✅ (NLP 공수산정 프로젝트) |
| YOLO 객체 검출 | 높은 정확도 달성 ✅ (DrawingBOM 프로젝트) |
| 세그멘테이션 | 높은 정확도 달성 ✅ (AX 실증산단) |
| RAG 검색 속도 | 빠른 검색 속도 ✅ (NLP 공수산정 프로젝트) |

본 기술들은 **실제 프로젝트**에서 검증되었으며, 정부 과제가 요구하는 모든 기술 요구사항을 충족함.
